angular.module("app",["ngRoute","ui.router","tc.chartjs"]),angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"/nav.html"},content:{templateUrl:"/home.html",controller:"homeCtrl"}}}).state("app.home",{url:"home",views:{"content@":{templateUrl:"users/home.html",controller:"homeCtrl"}}}),n.html5Mode(!0)}]),angular.module("app").controller("homeCtrl",["$scope","$http","dataMutator",function(e,t,n){e.setup=function(){n.getData().then(function(t){n.csvToJSON(t.data,function(t){n.getCareerStats(t,function(t){e.stats=t})})},function(e){console.error(e)})},e.setup()}]),angular.module("app").controller("masterCtrl",function(){console.info("App Loaded")}),angular.module("app").directive("careerStats",function(){return{restrict:"E",scope:{stats:"=item"},templateUrl:"partials/careerStats.html"}}),angular.module("app").directive("centuryStats",function(){return{restrict:"E",scope:{centuryStats:"=item"},templateUrl:"partials/centuryStats.html",controller:"centuryStatsCtrl"}}),angular.module("app").directive("drawConclusion",function(){return{restrict:"E",templateUrl:"partials/drawConclusion.html"}}),angular.module("app").directive("legends",function(){return{restrict:"EA",scope:{description:"@",color:"@"},templateUrl:"partials/legends.html"}}),angular.module("app").directive("personalInfo",function(){return{restrict:"E",templateUrl:"partials/personalInfo.html"}}),angular.module("app").directive("runsStats",function(){return{restrict:"E",scope:{runsStats:"=item"},templateUrl:"partials/runsStats.html",controller:"runsStatsCtrl"}}),angular.module("app").service("dataMutator",["$http",function(e){function t(){return e.get("/data/sachin.csv")}function n(e,t){for(var n=e.split("\n"),r=[],a=n[0].split(","),o=1;o<n.length-1;o++){for(var i={},s=n[o].split(","),l=0;l<a.length;l++)i[a[l]]=s[l];r.push(i)}return t&&"function"==typeof t?t(r):r}function r(e,t){var n=e.length,r=0,a=[],o=[],i=[],s=0,l=0,u=0,c=0,p=0,g=0,h=0;angular.forEach(e,function(e){var t={},n={},f={};e.batting_score.indexOf("*")>-1&&("1st"==e.batting_innings?g++:h++,e.batting_score=e.batting_score.replace("*",""),s++),isNaN(e.batting_score)?l++:(e.batting_score=parseInt(e.batting_score),t.runs=e.batting_score,t.against=e.opposition,t.result=e.match_result,t.innings=e.batting_innings,t.year=new Date(Date.parse(e.date)).getFullYear(),i.push(t),e.batting_score>=50&&e.batting_score<100?(f.runs=e.batting_score,f.against=e.opposition,f.result=e.match_result,f.innings=e.batting_innings,f.year=new Date(Date.parse(e.date)).getFullYear(),o.push(f)):e.batting_score>=100&&(n.runs=e.batting_score,n.against=e.opposition,n.result=e.match_result,n.innings=e.batting_innings,n.year=new Date(Date.parse(e.date)).getFullYear(),a.push(n)),r+=e.batting_score),!isNaN(e.wickets)&&parseInt(e.wickets)>0&&(e.wickets=parseInt(e.wickets),u+=e.wickets),!isNaN(e.catches)&&parseInt(e.catches)>0&&(e.catches=parseInt(e.catches),p+=e.catches),isNaN(e.runs_conceded)||(e.runs_conceded=parseInt(e.runs_conceded),c+=e.runs_conceded)});var f=n-l,d={totalMatches:n,totalRuns:r,halfCenturiesScored:o.length,centuriesScored:a.length,highestScore:Math.max.apply(null,a.map(function(e){return e.runs})),notOuts:s,totalInnings:f,battingAverage:(r/(f-s)).toFixed(2),wicketsTaken:u,runsConceded:c,bowlingAverage:(c/u).toFixed(2),catches:p,allCenturies:{centuriesScored:a,halfCenturiesScored:o},allInnings:{allInnings:i,firstInningsNotouts:g,secondInningsNotouts:h}};return t&&"function"==typeof t?t(d):d}return{getData:t,csvToJSON:n,getCareerStats:r}}]),angular.module("app").controller("centuryStatsCtrl",["$scope",function(e){e.$watch(function(){return e.centuryStats},function(t){t&&e.analyzeCenturies(e.centuryStats)}),e.analyzeCenturies=function(t){var n=_.pluck(t.centuriesScored,"runs"),r=_.pluck(t.centuriesScored,"against"),a=t.halfCenturiesScored.length,o=t.centuriesScored.length,i=[];t.centuriesScored.map(function(e,t){return"won"==e.result?i[t]="#0084FF":"lost"==e.result?i[t]="#ED3F2F":"tied"==e.result?i[t]="#DFF8EB":i[t]="#DDB967",i});var s=_.filter(t.centuriesScored,function(e){return"won"==e.result}),l=_.filter(t.centuriesScored,function(e){return"2nd"==e.innings}),u=_.filter(l,function(e){return"won"==e.result}),c=_.filter(l,function(e){return"lost"===e.result}),p=_.filter(l,function(e){return"tied"===e.result}),g=_.filter(l,function(e){return"n/r"===e.result}),h=[];t.centuriesScored.map(function(e){var t=e.against,n={score:e.runs};return"undefined"==typeof h[t]&&(h[t]=[]),h[t].push(n)});var f=[];t.centuriesScored.map(function(e){var t=e.year,n={score:e.runs};return"undefined"==typeof f[t]&&(f[t]=[]),f[t].push(n)});var d=[];t.halfCenturiesScored.map(function(e){var t=e.year,n={score:e.runs};return"undefined"==typeof d[t]&&(d[t]=[]),d[t].push(n)}),e.winningRatio=10*(s.length/t.centuriesScored.length).toFixed(2),e.prepareBarGraph(n,r,i),e.prepareBarGraphAgainstTeam(h),e.prepareLineGraph(f,d),e.prepareDoughnutChart(u.length,c.length,p.length,g.length),e.prepareConversionRatePieChart(a,o)},e.prepareBarGraph=function(t,n,r){e.bardata={labels:n,datasets:[{label:"Centuries",fillColor:r,strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:t}]},e.baroptions={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1}},e.prepareBarGraphAgainstTeam=function(t){var n=[],r=[];for(var a in t)t.hasOwnProperty(a)&&(n.push(a),r.push(t[a].length));e.bardataAgainstTeam={labels:n,datasets:[{label:"Centuries",fillColor:["#0084FF"],strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]},e.baroptionsAgainstTeam={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1}},e.prepareLineGraph=function(t,n){var r=[],a=[];for(var o in t)t.hasOwnProperty(o)&&(r.push(o),a.push(t[o].length));var i=[],s=[];for(var l in n)n.hasOwnProperty(l)&&(i.push(l),s.push(n[l].length));var u=_.filter(r,function(e){return i.indexOf(e)<0}),c=_.filter(i,function(e){return r.indexOf(e)<0}),p=_.union(r,i).sort(),g=u.map(function(e){return p.indexOf(e)}),h=c.map(function(e){return p.indexOf(e)});h.map(function(e){return a.splice(e,0,0)}),g.map(function(e){return s.splice(e,0,0)}),e.lineData={labels:p,datasets:[{label:"Half Centuries over the years",fillColor:["rgba(0,132,255,0.4)"],strokeColor:"rgba(0,132,255,0.4)",pointColor:"rgba(0,132,255,0.4)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:s},{label:"Centuries",fillColor:["rgba(220,220,220,0.6)"],strokeColor:"rgba(220,220,220,0.6)",pointColor:"rgba(220,220,220,0.6)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:a}]},e.lineOptions={responsive:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.prepareDoughnutChart=function(t,n,r,a){e.resources=[{value:t,color:"#FFFF00",highlight:"#e5e500",label:"India Won"},{value:n,color:"#46BFBD",highlight:"#5AD3D1",label:"India Lost"},{value:r,color:"#F7464A",highlight:"#FF5A5E",label:"Match Tied"},{value:a,color:"#F7464A",highlight:"#EF5A5E",label:"No Result"}],e.options={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1}},e.prepareConversionRatePieChart=function(t,n){e.conversionData=[{value:t,color:"#F7464A",highlight:"#FF5A5E",label:"Half Centuries"},{value:n,color:"#FDB45C",highlight:"#FFC870",label:"Centuries"}],e.conversionOptions={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1}}}]),angular.module("app").controller("runsStatsCtrl",["$scope",function(e){e.$watch(function(){return e.runsStats},function(t){t&&e.analyzeInnings(e.runsStats)}),e.analyzeInnings=function(t){var n=[],r=[],a=0,o=0,i=0,s=0;t.allInnings.map(function(e){"1st"==e.innings?(a++,i+=e.runs):(o++,s+=e.runs);var t=e.year,l=e.against;return"undefined"==typeof n[t]&&(n[t]=[]),"number"==typeof n[t]?n[t]+=parseInt(e.runs):n[t]=parseInt(e.runs),"undefined"==typeof r[l]&&(r[l]=[]),"number"==typeof r[l]?r[l]+=parseInt(e.runs):r[l]=parseInt(e.runs)}),e.prepareRunsByYearGraph(n),e.prepareRunsByTeamGraph(r),e.prepareRunsByInningsGraph(i,s),e.prepareAverageByInningsGraph(i,a,t.firstInningsNotouts,s,o,t.secondInningsNotouts)},e.prepareRunsByYearGraph=function(t){var n=[],r=[];for(var a in t)t.hasOwnProperty(a)&&(n.push(a),r.push(t[a]));var o=[];r.map(function(e,t){return e>=1e3?o[t]="#FFFF00":o[t]="#0084FF"}),e.yearBardata={labels:n,datasets:[{label:"Runs Over the years",fillColor:o,strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]},e.yearBaroptions={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1}},e.prepareRunsByTeamGraph=function(t){var n=[],r=[];for(var a in t)t.hasOwnProperty(a)&&(n.push(a),r.push(t[a]));e.teamBardata={labels:n,datasets:[{label:"Runs Over the years",fillColor:["#0084FF"],strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]},e.teamBaroptions={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1}},e.prepareRunsByInningsGraph=function(t,n){e.inniningsRunsresources=[{value:t,color:"#FFFF00",highlight:"#e5e500",label:"First Innings"},{value:n,color:"#46BFBD",highlight:"#5AD3D1",label:"Second Innings"}],e.inniningsRunsoptions={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1}},e.prepareAverageByInningsGraph=function(t,n,r,a,o,i){var s=t/(n-r),l=a/(o-i);e.averageData=[{value:s.toFixed(2),color:"#F7464A",highlight:"#FF5A5E",label:"Average in First Innings"},{value:l.toFixed(2),color:"#FDB45C",highlight:"#FFC870",label:"Average in Second Innings"}],e.averageOptions={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlcy5qcyIsImNvbnRyb2xsZXJzL2hvbWVDdHJsLmpzIiwiY29udHJvbGxlcnMvbWFzdGVyQ3RybC5qcyIsImRpcmVjdGl2ZXMvY2FyZWVyU3RhdHMuanMiLCJkaXJlY3RpdmVzL2NlbnR1cnlTdGF0cy5qcyIsImRpcmVjdGl2ZXMvZHJhd0NvbmNsdXNpb24uanMiLCJkaXJlY3RpdmVzL2xlZ2VuZHMuanMiLCJkaXJlY3RpdmVzL3BlcnNvbmFsSW5mby5qcyIsImRpcmVjdGl2ZXMvcnVuc1N0YXRzLmpzIiwic2VydmljZXMvZGF0YU11dGF0b3IuanMiLCJjb250cm9sbGVycy9wYXJ0aWFscy9jZW50dXJ5U3RhdHNDdHJsLmpzIiwiY29udHJvbGxlcnMvcGFydGlhbHMvcnVuc1N0YXRzQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnQiLCJjb250cm9sbGVyIiwiY29udGVudEAiLCJodG1sNU1vZGUiLCIkc2NvcGUiLCIkaHR0cCIsImRhdGFNdXRhdG9yIiwic2V0dXAiLCJnZXREYXRhIiwidGhlbiIsInJlc3BvbnNlIiwiY3N2VG9KU09OIiwiZGF0YSIsImpzb24iLCJnZXRDYXJlZXJTdGF0cyIsInN0YXRzIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaW5mbyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJjZW50dXJ5U3RhdHMiLCJkZXNjcmlwdGlvbiIsImNvbG9yIiwicnVuc1N0YXRzIiwic2VydmljZSIsImdldCIsImNzdiIsImNhbGxiYWNrIiwibGluZXMiLCJzcGxpdCIsInJlc3VsdCIsImhlYWRlcnMiLCJpIiwibGVuZ3RoIiwib2JqIiwiY3VycmVudGxpbmUiLCJqIiwicHVzaCIsInRvdGFsTWF0Y2hlcyIsInRvdGFsUnVucyIsImNlbnR1cmllc1Njb3JlZCIsImhhbGZDZW50dXJpZXNTY29yZWQiLCJhbGxJbm5pbmdzIiwibm90T3V0cyIsImRpZE5vdEJhdCIsIndpY2tldHNUYWtlbiIsInJ1bnNDb25jZWRlZCIsImNhdGNoZXMiLCJmaXJzdElubmluZ3NOb3RvdXRzIiwic2Vjb25kSW5uaW5nc05vdG91dHMiLCJmb3JFYWNoIiwidmFsdWUiLCJpbm5pbmdzRGV0YWlsIiwiY2VudHVyeURldGFpbCIsImhhbGZDZW50dXJ5RGV0YWlsIiwiYmF0dGluZ19zY29yZSIsImluZGV4T2YiLCJiYXR0aW5nX2lubmluZ3MiLCJyZXBsYWNlIiwiaXNOYU4iLCJwYXJzZUludCIsInJ1bnMiLCJhZ2FpbnN0Iiwib3Bwb3NpdGlvbiIsIm1hdGNoX3Jlc3VsdCIsImlubmluZ3MiLCJ5ZWFyIiwiRGF0ZSIsInBhcnNlIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwid2lja2V0cyIsInJ1bnNfY29uY2VkZWQiLCJ0b3RhbElubmluZ3MiLCJoaWdoZXN0U2NvcmUiLCJNYXRoIiwibWF4IiwiYXBwbHkiLCJtYXAiLCJpbmRleCIsImJhdHRpbmdBdmVyYWdlIiwidG9GaXhlZCIsImJvd2xpbmdBdmVyYWdlIiwiYWxsQ2VudHVyaWVzIiwiJHdhdGNoIiwibiIsImFuYWx5emVDZW50dXJpZXMiLCJzY29yZXMiLCJfIiwicGx1Y2siLCJ0b3RhbEZpZnRpZXMiLCJ0b3RhbEh1bmRyZWRzIiwiY29sb3JzIiwicmVzIiwia2V5Iiwid29uIiwiZmlsdGVyIiwiY2VudCIsImNoYXNpbmdDZW50dXJpZXMiLCJ3aW5jaGFzaW5nQ2VudHVyaWVzIiwibG9zdGNoYXNpbmdDZW50dXJpZXMiLCJ0aWVkY2hhc2luZ0NlbnR1cmllcyIsIm5vcmVzdWx0Y2hhc2luZ0NlbnR1cmllcyIsImNlbnR1cnlBZ2FpbnN0VGVhbXMiLCJ0ZWFtIiwiY2VudHVyeSIsInNjb3JlIiwiY2VudHVyeUJ5WWVhciIsImhhbGZDZW50dXJ5QnlZZWFyIiwiaGFsZkNlbnR1cnkiLCJ3aW5uaW5nUmF0aW8iLCJwcmVwYXJlQmFyR3JhcGgiLCJwcmVwYXJlQmFyR3JhcGhBZ2FpbnN0VGVhbSIsInByZXBhcmVMaW5lR3JhcGgiLCJwcmVwYXJlRG91Z2hudXRDaGFydCIsInByZXBhcmVDb252ZXJzaW9uUmF0ZVBpZUNoYXJ0IiwiYmFyZGF0YSIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInBvaW50Q29sb3IiLCJwb2ludFN0cm9rZUNvbG9yIiwicG9pbnRIaWdobGlnaHRGaWxsIiwicG9pbnRIaWdobGlnaHRTdHJva2UiLCJiYXJvcHRpb25zIiwicmVzcG9uc2l2ZSIsInNjYWxlQmVnaW5BdFplcm8iLCJzY2FsZVNob3dHcmlkTGluZXMiLCJzY2FsZUdyaWRMaW5lQ29sb3IiLCJzY2FsZUdyaWRMaW5lV2lkdGgiLCJiYXJTaG93U3Ryb2tlIiwiYmFyU3Ryb2tlV2lkdGgiLCJiYXJWYWx1ZVNwYWNpbmciLCJiYXJEYXRhc2V0U3BhY2luZyIsImFnYWluc3RGb3JDZW50dXJpZXMiLCJudW1iZXJPZkNlbnR1cmllcyIsImNlbnR1cnlLZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImJhcmRhdGFBZ2FpbnN0VGVhbSIsImJhcm9wdGlvbnNBZ2FpbnN0VGVhbSIsInllYXJPZmNlbnR1cmllcyIsInllYXJPZmhhbGZDZW50dXJpZXMiLCJudW1iZXJPZkhhbGZDZW50dXJpZXMiLCJ5ZWFyV2l0aE5vSGFsZkNlbnR1cnkiLCJlbCIsInllYXJXaXRoTm9DZW50dXJ5IiwiYWxsWWVhcnNGb3JEYXRhIiwidW5pb24iLCJzb3J0IiwiaW5kZXhPZk5vSGFsZmNlbnR1cnkiLCJpbmRleE9mTm9DZW50dXJ5Iiwic3BsaWNlIiwibGluZURhdGEiLCJsaW5lT3B0aW9ucyIsImJlemllckN1cnZlIiwiYmV6aWVyQ3VydmVUZW5zaW9uIiwicG9pbnREb3QiLCJwb2ludERvdFJhZGl1cyIsInBvaW50RG90U3Ryb2tlV2lkdGgiLCJwb2ludEhpdERldGVjdGlvblJhZGl1cyIsImRhdGFzZXRTdHJva2UiLCJkYXRhc2V0U3Ryb2tlV2lkdGgiLCJkYXRhc2V0RmlsbCIsIm9uQW5pbWF0aW9uUHJvZ3Jlc3MiLCJvbkFuaW1hdGlvbkNvbXBsZXRlIiwibG9zdCIsInRpZWQiLCJub3Jlc3VsdCIsInJlc291cmNlcyIsImhpZ2hsaWdodCIsIm9wdGlvbnMiLCJzZWdtZW50U2hvd1N0cm9rZSIsInNlZ21lbnRTdHJva2VDb2xvciIsInNlZ21lbnRTdHJva2VXaWR0aCIsInBlcmNlbnRhZ2VJbm5lckN1dG91dCIsImFuaW1hdGlvblN0ZXBzIiwiYW5pbWF0aW9uRWFzaW5nIiwiYW5pbWF0ZVJvdGF0ZSIsImFuaW1hdGVTY2FsZSIsImZpZnR5IiwiaHVuZHJlZCIsImNvbnZlcnNpb25EYXRhIiwiY29udmVyc2lvbk9wdGlvbnMiLCJhbmFseXplSW5uaW5ncyIsInJ1bnNCeVllYXIiLCJydW5zQWdhaW5zdFRlYW1zIiwiZmlyc3RJbm5pbmdzIiwic2Vjb25kSW5uaW5ncyIsInJ1bnNGaXJzdElubmluZ3MiLCJydW5zU2Vjb25kSW5uaW5ncyIsInByZXBhcmVSdW5zQnlZZWFyR3JhcGgiLCJwcmVwYXJlUnVuc0J5VGVhbUdyYXBoIiwicHJlcGFyZVJ1bnNCeUlubmluZ3NHcmFwaCIsInByZXBhcmVBdmVyYWdlQnlJbm5pbmdzR3JhcGgiLCJ5ZWFycyIsInllYXJCYXJkYXRhIiwieWVhckJhcm9wdGlvbnMiLCJ0ZWFtcyIsInRlYW1CYXJkYXRhIiwidGVhbUJhcm9wdGlvbnMiLCJpbm5pbmluZ3NSdW5zcmVzb3VyY2VzIiwiaW5uaW5pbmdzUnVuc29wdGlvbnMiLCJmaXJzdElubmluZ3NBdmVyYWdlIiwic2Vjb25kSW5uaW5nc0F2ZXJhZ2UiLCJhdmVyYWdlRGF0YSIsImF2ZXJhZ2VPcHRpb25zIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxPQUNBLFVBQUEsWUFBQSxlQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFFB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U0FBQUwsRUFBQUYsRUFBQTVJLEVBQUErSSxFQUFBRixFQUFBNUksR0FDQSxHQUFBMkosR0FBQWQsR0FBQUYsRUFBQTVJLEdBQ0E2SixFQUFBZCxHQUFBRixFQUFBNUksRUFFQWhELEdBQUE2TSxjQUVBM0osTUFBQXlKLEVBQUEzSCxRQUFBLEdBQ0EzRCxNQUFBLFVBQ0FxSixVQUFBLFVBQ0FwRCxNQUFBLDZCQUdBcEUsTUFBQTBKLEVBQUE1SCxRQUFBLEdBQ0EzRCxNQUFBLFVBQ0FxSixVQUFBLFVBQ0FwRCxNQUFBLDhCQUtBdEgsRUFBQThNLGdCQUdBaEYsWUFBQSxFQUdBOEMsbUJBQUEsRUFHQUMsbUJBQUEsT0FHQUMsbUJBQUEsRUFHQUMsc0JBQUEsRUFHQUMsZUFBQSxJQUdBQyxnQkFBQSxnQkFHQUMsZUFBQSxFQUdBQyxjQUFBIiwiZmlsZSI6ImFwcC5idWlsdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcbiAgJ25nUm91dGUnLCd1aS5yb3V0ZXInLCd0Yy5jaGFydGpzJ1xuXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAnaGVhZGVyJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2hvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUN0cmwnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuICAgICAgICAgICAgICAgIHVybDogJ2hvbWUnLFxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndXNlcnMvaG9tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdob21lQ3RybCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcblxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgZGF0YU11dGF0b3IpIHtcbiAgICAgICAgJHNjb3BlLnNldHVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gZ2V0IHRoZSBjc3YgZGF0YSBmcm9tIGRhdGFNdXRhdG9yIHNlcnZpY2VcbiAgICAgICAgICBkYXRhTXV0YXRvci5nZXREYXRhKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIGNzdiBkYXRhIHRvIEpTT05cbiAgICAgICAgICAgICAgICBkYXRhTXV0YXRvci5jc3ZUb0pTT04ocmVzcG9uc2UuZGF0YSwgZnVuY3Rpb24oanNvbil7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdGhlIGNvbnZlcnRlZCBKU09OIGRhdGEgdG8gZ2V0Q2FyZWVyU3RhdHMgZnVuY3Rpb24gZm9yIG1hbmlwdWxhdGlvblxuICAgICAgICAgICAgICAgICAgICBkYXRhTXV0YXRvci5nZXRDYXJlZXJTdGF0cyhqc29uLCBmdW5jdGlvbihzdGF0cyl7XG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRzID0gc3RhdHNcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5zZXR1cCgpO1xuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignbWFzdGVyQ3RybCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBtYWluIGNvbnRyb2xsZXIgYmluZGVkIHRvIGJvZHkgb2YgdGhlIGFwcCwgYWN0aW9ucyByZXF1aXJlZCBhdCBnbG9iYWwgbGV2ZWwgY2FuIGJlIGRvbmUgaGVyZVxuICAgICAgICBjb25zb2xlLmluZm8oXCJBcHAgTG9hZGVkXCIpO1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnY2FyZWVyU3RhdHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgc3RhdHM6ICc9aXRlbScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jYXJlZXJTdGF0cy5odG1sJ1xuICAgICAgICB9O1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnY2VudHVyeVN0YXRzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGNlbnR1cnlTdGF0czogJz1pdGVtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2NlbnR1cnlTdGF0cy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjZW50dXJ5U3RhdHNDdHJsJ1xuICAgICAgICB9O1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnZHJhd0NvbmNsdXNpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvZHJhd0NvbmNsdXNpb24uaHRtbCdcbiAgICAgICAgfTtcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5kaXJlY3RpdmUoJ2xlZ2VuZHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQCcsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdAJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvbGVnZW5kcy5odG1sJ1xuICAgICAgICB9O1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgncGVyc29uYWxJbmZvJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3BlcnNvbmFsSW5mby5odG1sJ1xuICAgICAgICB9O1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgncnVuc1N0YXRzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHJ1bnNTdGF0czogJz1pdGVtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3J1bnNTdGF0cy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdydW5zU3RhdHNDdHJsJ1xuICAgICAgICB9O1xuICAgIH0pO1xuIiwiLy8gZGF0YU11dGF0b3IgU2VydmljZVxuLy8gVGhpcyBpcyB0aGUgc2VydmljZSB3aGljaCBkb2VzIHRocmVlIHByaW1hcnkgYWN0aW9uc1xuLy8gMS4gR2V0IGRhdGEgdGhyb3VnaCAkaHR0cCByZXF1ZXN0IGZyb20gdGhlIHNvdXJjZSAoaW4gdGhpcyBjYXNlIGZyb20gcHVibGljL2Fzc2V0cy9kYXRhL3NhY2hpbi5jc3YpXG4vLyAyLiBDb252ZXJ0IHRoZSBkYXRhIHJlY2VpdmVkIGluIGNzdiBmb3JtYXQgdG8gSlNPTiBmb3JtYXQgdG8gcGVyZm9ybSBsb2dpY2FsIG9wZXJhdGlvbnMgb24gaXRcbi8vIDMuIFByZXBhcmUgb3ZlcmFsbCBjYXJlZXIgc3RhdHMgYW5kIGlucHV0cyBmb3IgYWxsQ2VudHVyaWVzIGFuZCBhbGxJbm5pbmdzIHdoaWNoIGNhbiBiZSBmdXJ0aGVyXG4vLyAgICBtYW5pcHVsYXRlZCBpbiB0aGVpciByZXNwZWN0aXZlIGNvbnRyb2xsZXJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5zZXJ2aWNlKCdkYXRhTXV0YXRvcicsIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldERhdGE6IGdldERhdGEsXG4gICAgICAgICAgICBjc3ZUb0pTT046IGNzdlRvSlNPTixcbiAgICAgICAgICAgIGdldENhcmVlclN0YXRzOiBnZXRDYXJlZXJTdGF0c1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvZGF0YS9zYWNoaW4uY3N2Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjc3ZUb0pTT04oY3N2LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGxpbmVzPWNzdi5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzPWxpbmVzWzBdLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGZvcih2YXIgaT0xO2k8bGluZXMubGVuZ3RoIC0xO2krKyl7XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50bGluZT1saW5lc1tpXS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTA7ajxoZWFkZXJzLmxlbmd0aDtqKyspe1xuICAgICAgICAgICAgICAgICAgb2JqW2hlYWRlcnNbal1dID0gY3VycmVudGxpbmVbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihjYWxsYmFjayAmJiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDYXJlZXJTdGF0cyhkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHRvdGFsTWF0Y2hlcyA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHRvdGFsUnVucyA9IDA7XG4gICAgICAgICAgICB2YXIgY2VudHVyaWVzU2NvcmVkID0gW107XG4gICAgICAgICAgICB2YXIgaGFsZkNlbnR1cmllc1Njb3JlZCA9IFtdO1xuICAgICAgICAgICAgdmFyIGFsbElubmluZ3MgPSBbXTtcbiAgICAgICAgICAgIHZhciBub3RPdXRzID0gMDtcbiAgICAgICAgICAgIHZhciBkaWROb3RCYXQgPSAwO1xuICAgICAgICAgICAgdmFyIHdpY2tldHNUYWtlbiA9IDA7XG4gICAgICAgICAgICB2YXIgcnVuc0NvbmNlZGVkID0gMDtcbiAgICAgICAgICAgIHZhciBjYXRjaGVzID0gMDtcbiAgICAgICAgICAgIHZhciBmaXJzdElubmluZ3NOb3RvdXRzID0gMDtcbiAgICAgICAgICAgIHZhciBzZWNvbmRJbm5pbmdzTm90b3V0cyA9IDA7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGlubmluZ3NEZXRhaWwgPSB7fTtcbiAgICAgICAgICAgICAgdmFyIGNlbnR1cnlEZXRhaWwgPSB7fTtcbiAgICAgICAgICAgICAgdmFyIGhhbGZDZW50dXJ5RGV0YWlsID0ge307XG5cbiAgICAgICAgICAgICAgLy9CYXR0aW5nIHN0YXRzXG5cbiAgICAgICAgICAgICAgLy9jaGVjayB0byBzZWUgaWYgdGhlIHNjb3JlIGNvbnRhaW5zIGEgJyonJyBpbiB0aGUgZW5kIHdoaWNoIGRlbnRvZXMgTm90T3V0cywgaWYgeWVzIHJlbW92ZSBmb3IgY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgIGlmKHZhbHVlLmJhdHRpbmdfc2NvcmUuaW5kZXhPZihcIipcIikgPiAtMSl7XG4gICAgICAgICAgICAgICAgaWYodmFsdWUuYmF0dGluZ19pbm5pbmdzID09IFwiMXN0XCIpe1xuICAgICAgICAgICAgICAgICAgZmlyc3RJbm5pbmdzTm90b3V0cysrO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgc2Vjb25kSW5uaW5nc05vdG91dHMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUuYmF0dGluZ19zY29yZSA9IHZhbHVlLmJhdHRpbmdfc2NvcmUucmVwbGFjZSgnKicsJycpO1xuICAgICAgICAgICAgICAgIG5vdE91dHMrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvL2lmIHRoZSB2YWx1ZSBvZiBzY29yZSBpcyBOb3QgYSBudW1iZXIgLCBpdCBtZWFucyBpdCBjb3VsZCBiZSBETkIoZGlkIG5vdCBiYXQpIG9yIFRETkIgKHRlYW0gZGlkIG5vdCBiYXQpXG4gICAgICAgICAgICAgIGlmKGlzTmFOKHZhbHVlLmJhdHRpbmdfc2NvcmUpKXtcbiAgICAgICAgICAgICAgICBkaWROb3RCYXQrKztcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgLy9Db252ZXJ0aW5nIHRoZSBzdHJpbmcgdG8gaW50ZWdlcnMgdG8gZG8gY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgICAgdmFsdWUuYmF0dGluZ19zY29yZSA9IHBhcnNlSW50KHZhbHVlLmJhdHRpbmdfc2NvcmUpO1xuICAgICAgICAgICAgICAgIC8vR2V0dGluZyBhbGwgaW5uaW5ncyBydW5zXG4gICAgICAgICAgICAgICAgaW5uaW5nc0RldGFpbC5ydW5zID0gdmFsdWUuYmF0dGluZ19zY29yZTtcbiAgICAgICAgICAgICAgICBpbm5pbmdzRGV0YWlsLmFnYWluc3QgPSB2YWx1ZS5vcHBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGlubmluZ3NEZXRhaWwucmVzdWx0ID0gdmFsdWUubWF0Y2hfcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlubmluZ3NEZXRhaWwuaW5uaW5ncyA9IHZhbHVlLmJhdHRpbmdfaW5uaW5ncztcbiAgICAgICAgICAgICAgICBpbm5pbmdzRGV0YWlsLnllYXIgPSAobmV3IERhdGUoRGF0ZS5wYXJzZSh2YWx1ZS5kYXRlKSkpLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgYWxsSW5uaW5ncy5wdXNoKGlubmluZ3NEZXRhaWwpO1xuXG5cbiAgICAgICAgICAgICAgICAvL0NoZWNraW5nIHRvIHNlZSBpZiB0aGUgc2NvcmUgd2FzIGEgaGFsZiBjZW50dXJ5IG9yIGNlbnR1cnlcbiAgICAgICAgICAgICAgICBpZih2YWx1ZS5iYXR0aW5nX3Njb3JlID49IDUwICYmIHZhbHVlLmJhdHRpbmdfc2NvcmUgPCAxMDApe1xuICAgICAgICAgICAgICAgICAgaGFsZkNlbnR1cnlEZXRhaWwucnVucyA9IHZhbHVlLmJhdHRpbmdfc2NvcmU7XG4gICAgICAgICAgICAgICAgICBoYWxmQ2VudHVyeURldGFpbC5hZ2FpbnN0ID0gdmFsdWUub3Bwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJ5RGV0YWlsLnJlc3VsdCA9IHZhbHVlLm1hdGNoX3Jlc3VsdDtcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJ5RGV0YWlsLmlubmluZ3MgPSB2YWx1ZS5iYXR0aW5nX2lubmluZ3M7XG4gICAgICAgICAgICAgICAgICBoYWxmQ2VudHVyeURldGFpbC55ZWFyID0gKG5ldyBEYXRlKERhdGUucGFyc2UodmFsdWUuZGF0ZSkpKS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgaGFsZkNlbnR1cmllc1Njb3JlZC5wdXNoKGhhbGZDZW50dXJ5RGV0YWlsKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih2YWx1ZS5iYXR0aW5nX3Njb3JlID49IDEwMCl7XG4gICAgICAgICAgICAgICAgICBjZW50dXJ5RGV0YWlsLnJ1bnMgPSB2YWx1ZS5iYXR0aW5nX3Njb3JlO1xuICAgICAgICAgICAgICAgICAgY2VudHVyeURldGFpbC5hZ2FpbnN0ID0gdmFsdWUub3Bwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIGNlbnR1cnlEZXRhaWwucmVzdWx0ID0gdmFsdWUubWF0Y2hfcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgY2VudHVyeURldGFpbC5pbm5pbmdzID0gdmFsdWUuYmF0dGluZ19pbm5pbmdzO1xuICAgICAgICAgICAgICAgICAgY2VudHVyeURldGFpbC55ZWFyID0gKG5ldyBEYXRlKERhdGUucGFyc2UodmFsdWUuZGF0ZSkpKS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgY2VudHVyaWVzU2NvcmVkLnB1c2goY2VudHVyeURldGFpbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vU2F2aW5nIHRvdGFsIHJ1bnNcbiAgICAgICAgICAgICAgICB0b3RhbFJ1bnMgKz0gdmFsdWUuYmF0dGluZ19zY29yZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vQm93bGluZyBzdGF0c1xuICAgICAgICAgICAgICBpZighaXNOYU4odmFsdWUud2lja2V0cykgJiYgcGFyc2VJbnQodmFsdWUud2lja2V0cykgPiAwKXtcbiAgICAgICAgICAgICAgICB2YWx1ZS53aWNrZXRzID0gcGFyc2VJbnQodmFsdWUud2lja2V0cyk7XG4gICAgICAgICAgICAgICAgd2lja2V0c1Rha2VuICs9IHZhbHVlLndpY2tldHM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYoIWlzTmFOKHZhbHVlLmNhdGNoZXMpICYmIHBhcnNlSW50KHZhbHVlLmNhdGNoZXMpID4gMCl7XG4gICAgICAgICAgICAgICAgdmFsdWUuY2F0Y2hlcyA9IHBhcnNlSW50KHZhbHVlLmNhdGNoZXMpO1xuICAgICAgICAgICAgICAgIGNhdGNoZXMgKz0gdmFsdWUuY2F0Y2hlcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZighaXNOYU4odmFsdWUucnVuc19jb25jZWRlZCkpe1xuICAgICAgICAgICAgICAgIHZhbHVlLnJ1bnNfY29uY2VkZWQgPSBwYXJzZUludCh2YWx1ZS5ydW5zX2NvbmNlZGVkKTtcbiAgICAgICAgICAgICAgICBydW5zQ29uY2VkZWQgKz0gdmFsdWUucnVuc19jb25jZWRlZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgdG90YWxJbm5pbmdzID0gdG90YWxNYXRjaGVzIC0gZGlkTm90QmF0O1xuICAgICAgICAgIHZhciBzdGF0cyA9IHtcbiAgICAgICAgICAgIHRvdGFsTWF0Y2hlcyA6IHRvdGFsTWF0Y2hlcyxcbiAgICAgICAgICAgIHRvdGFsUnVuczogdG90YWxSdW5zLFxuICAgICAgICAgICAgaGFsZkNlbnR1cmllc1Njb3JlZDogaGFsZkNlbnR1cmllc1Njb3JlZC5sZW5ndGgsXG4gICAgICAgICAgICBjZW50dXJpZXNTY29yZWQ6IGNlbnR1cmllc1Njb3JlZC5sZW5ndGgsXG4gICAgICAgICAgICBoaWdoZXN0U2NvcmU6ICBNYXRoLm1heC5hcHBseShudWxsLGNlbnR1cmllc1Njb3JlZC5tYXAoZnVuY3Rpb24oaW5kZXgpe3JldHVybiBpbmRleC5ydW5zO30pKSxcbiAgICAgICAgICAgIG5vdE91dHM6IG5vdE91dHMsXG4gICAgICAgICAgICB0b3RhbElubmluZ3M6IHRvdGFsSW5uaW5ncyxcbiAgICAgICAgICAgIGJhdHRpbmdBdmVyYWdlOiAodG90YWxSdW5zIC8gKHRvdGFsSW5uaW5ncyAtIG5vdE91dHMpKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgd2lja2V0c1Rha2VuOiB3aWNrZXRzVGFrZW4sXG4gICAgICAgICAgICBydW5zQ29uY2VkZWQ6IHJ1bnNDb25jZWRlZCxcbiAgICAgICAgICAgIGJvd2xpbmdBdmVyYWdlOiAocnVuc0NvbmNlZGVkIC8gd2lja2V0c1Rha2VuKS50b0ZpeGVkKDIpLFxuICAgICAgICAgICAgY2F0Y2hlczogY2F0Y2hlcyxcbiAgICAgICAgICAgIC8vc2VuZCBhbGxDZW50dXJpZXMgYXMgYW4gb2JqZWN0IHdpdGggcmVxdWlyZWQgaW5mb3JtYXRpb24gZm9yIGNhbGN1bGF0aW9ucyBpbiBjZW50dXJ5U3RhdHNDdHJsXG4gICAgICAgICAgICBhbGxDZW50dXJpZXM6IHtcbiAgICAgICAgICAgICAgXCJjZW50dXJpZXNTY29yZWRcIjpjZW50dXJpZXNTY29yZWQsXG4gICAgICAgICAgICAgIFwiaGFsZkNlbnR1cmllc1Njb3JlZFwiOmhhbGZDZW50dXJpZXNTY29yZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvL3NlbmQgYWxsSW5uaW5ncyBhcyBhbiBvYmplY3Qgd2l0aCByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3IgY2FsY3VsYXRpb25zIGluIHJ1bnNTdGF0c0N0cmxcbiAgICAgICAgICAgIGFsbElubmluZ3M6IHtcbiAgICAgICAgICAgICAgXCJhbGxJbm5pbmdzXCI6YWxsSW5uaW5ncyxcbiAgICAgICAgICAgICAgXCJmaXJzdElubmluZ3NOb3RvdXRzXCI6Zmlyc3RJbm5pbmdzTm90b3V0cyxcbiAgICAgICAgICAgICAgXCJzZWNvbmRJbm5pbmdzTm90b3V0c1wiOnNlY29uZElubmluZ3NOb3RvdXRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZihjYWxsYmFjayAmJiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soc3RhdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RhdHM7XG4gICAgICAgIH1cbiAgICB9KTtcbiIsIi8vIENlbnR1cnkgU3RhdHMgY29udHJvbGxlclxuLy8gVGhpcyBjb250cm9sbGVyIGlzIGF0dGFjaGVkIHRvIGEgZGlyZWN0aXZlIC0gY2VudHVyeVN0YXRzXG4vLyBhbmQgdGhlIHB1cnBvc2Ugb2YgdGhpcyBjb250cm9sbGVyIGlzIHRvIHdvcmsgb24gdGhlIGNlbnR1cnlTdGF0cyBwYXNzZWQgdG8gaXRzICRzY29wZSB2aWEgaXRzIGF0dHJpYnV0ZVxuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignY2VudHVyeVN0YXRzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgLy8gV2F0Y2ggZm9yIHRoZSAkc2NvcGUuY2VudHVyeVN0YXRzIHZhcmlhYmxlIHRvIGdldCB0aGUgZGF0YSBmcm9tIGF0dHJpYnV0ZVxuICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmNlbnR1cnlTdGF0cztcbiAgICAgICAgICAgfSwgZnVuY3Rpb24obikge1xuICAgICAgICAgICAgICAgaWYoIW4pcmV0dXJuO1xuICAgICAgICAgICAgICAgLy8gSWYgaXQgaGFzIHJlY2VpdmVkIGRhdGEgdGhlbiBzdGFydCB3b3JraW5nIG9uIEFuYWx5emluZyBDZW50dXJpZXNcbiAgICAgICAgICAgICAgICRzY29wZS5hbmFseXplQ2VudHVyaWVzKCRzY29wZS5jZW50dXJ5U3RhdHMpO1xuICAgICAgICAgICB9KTtcblxuICAgICAgJHNjb3BlLmFuYWx5emVDZW50dXJpZXMgPSBmdW5jdGlvbihjZW50dXJ5U3RhdHMpe1xuICAgICAgICAvL0dldCB0aGUgcnVucyBzY29yZWQgd2hpbGUgbWFraW5nIGEgY2VudHVyeVxuICAgICAgICB2YXIgc2NvcmVzID0gXy5wbHVjayhjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLCAncnVucycpO1xuXG4gICAgICAgIC8vR2V0IHRoZSBvcHBvbmVudHMgYWdhaW5zZSB3aGljaCB0aGUgY2VudHVyeSB3YXMgc2NvcmVkXG4gICAgICAgIHZhciBhZ2FpbnN0ID0gXy5wbHVjayhjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLCAnYWdhaW5zdCcpO1xuXG4gICAgICAgIC8vR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgaGFsZiBjZW50dXJpZXMgc2NvcmVkXG4gICAgICAgIHZhciB0b3RhbEZpZnRpZXMgPSBjZW50dXJ5U3RhdHMuaGFsZkNlbnR1cmllc1Njb3JlZC5sZW5ndGg7XG5cbiAgICAgICAgLy9HZXQgdGhlIHRvdGFsIG51bWJlciBvZiBjZW50dXJpZXMgc2NvcmVkXG4gICAgICAgIHZhciB0b3RhbEh1bmRyZWRzID0gY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZC5sZW5ndGg7XG4gICAgICAgIC8vU2VuZCBhcnJheSBvZiBjb2xvcnMgdG8gY2hhcnRqc1xuICAgICAgICB2YXIgY29sb3JzID0gW107XG4gICAgICAgIGNlbnR1cnlTdGF0cy5jZW50dXJpZXNTY29yZWQubWFwKGZ1bmN0aW9uKHJlcywga2V5KXtcbiAgICAgICAgICBpZihyZXMucmVzdWx0ID09IFwid29uXCIpe1xuICAgICAgICAgICAgY29sb3JzW2tleV0gPSBcIiMwMDg0RkZcIjtcbiAgICAgICAgICB9ZWxzZSBpZihyZXMucmVzdWx0ID09IFwibG9zdFwiKXtcbiAgICAgICAgICAgIGNvbG9yc1trZXldID0gXCIjRUQzRjJGXCI7XG4gICAgICAgICAgfWVsc2UgaWYocmVzLnJlc3VsdCA9PSBcInRpZWRcIil7XG4gICAgICAgICAgICBjb2xvcnNba2V5XSA9IFwiI0RGRjhFQlwiO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29sb3JzW2tleV0gPSBcIiNEREI5NjdcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB3b24gPSBfLmZpbHRlcihjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLCBmdW5jdGlvbihjZW50KXtcbiAgICAgICAgICByZXR1cm4gY2VudC5yZXN1bHQgPT0gXCJ3b25cIjtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHZhciBsb3N0ID0gXy5maWx0ZXIoY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZCwgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgIC8vICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcImxvc3RcIlxuICAgICAgICAvLyB9KVxuICAgICAgICAvLyB2YXIgdGllZCA9IF8uZmlsdGVyKGNlbnR1cnlTdGF0cy5jZW50dXJpZXNTY29yZWQsIGZ1bmN0aW9uKGNlbnQpe1xuICAgICAgICAvLyAgIHJldHVybiBjZW50LnJlc3VsdCA9PT0gXCJ0aWVkXCJcbiAgICAgICAgLy8gfSlcbiAgICAgICAgLy8gdmFyIG5vcmVzdWx0ID0gXy5maWx0ZXIoY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZCwgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgIC8vICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcIm4vclwiXG4gICAgICAgIC8vIH0pXG5cbiAgICAgICAgLy9DZW50dXJ5IHdoaWxlIGNoYXNpbmdcbiAgICAgICAgdmFyIGNoYXNpbmdDZW50dXJpZXMgPSBfLmZpbHRlcihjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLCBmdW5jdGlvbihjZW50KXtcbiAgICAgICAgICByZXR1cm4gY2VudC5pbm5pbmdzID09IFwiMm5kXCI7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgd2luY2hhc2luZ0NlbnR1cmllcyA9IF8uZmlsdGVyKGNoYXNpbmdDZW50dXJpZXMsIGZ1bmN0aW9uKGNlbnQpe1xuICAgICAgICAgIHJldHVybiBjZW50LnJlc3VsdCA9PSBcIndvblwiO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGxvc3RjaGFzaW5nQ2VudHVyaWVzID0gXy5maWx0ZXIoY2hhc2luZ0NlbnR1cmllcywgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcImxvc3RcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0aWVkY2hhc2luZ0NlbnR1cmllcyA9IF8uZmlsdGVyKGNoYXNpbmdDZW50dXJpZXMsIGZ1bmN0aW9uKGNlbnQpe1xuICAgICAgICAgIHJldHVybiBjZW50LnJlc3VsdCA9PT0gXCJ0aWVkXCI7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbm9yZXN1bHRjaGFzaW5nQ2VudHVyaWVzID0gXy5maWx0ZXIoY2hhc2luZ0NlbnR1cmllcywgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcIm4vclwiO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL0NlbnR1cnkgYWdhaW5zdCB0ZWFtc1xuICAgICAgICB2YXIgY2VudHVyeUFnYWluc3RUZWFtcyA9IFtdO1xuICAgICAgICBjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIHZhciB0ZWFtID0gcmVzLmFnYWluc3Q7XG4gICAgICAgICAgdmFyIGNlbnR1cnkgPSB7XG4gICAgICAgICAgICBzY29yZTogcmVzLnJ1bnNcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmKHR5cGVvZihjZW50dXJ5QWdhaW5zdFRlYW1zW3RlYW1dKSA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgY2VudHVyeUFnYWluc3RUZWFtc1t0ZWFtXSA9IFtdO1xuICAgICAgICAgIHJldHVybiBjZW50dXJ5QWdhaW5zdFRlYW1zW3RlYW1dLnB1c2goY2VudHVyeSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vQ2VudHVyeSBvdmVyIHRoZSB5ZWFyc1xuICAgICAgICB2YXIgY2VudHVyeUJ5WWVhciA9IFtdO1xuICAgICAgICBjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIHZhciB5ZWFyID0gcmVzLnllYXI7XG4gICAgICAgICAgdmFyIGNlbnR1cnkgPSB7XG4gICAgICAgICAgICBzY29yZTogcmVzLnJ1bnNcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmKHR5cGVvZihjZW50dXJ5QnlZZWFyW3llYXJdKSA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgY2VudHVyeUJ5WWVhclt5ZWFyXSA9IFtdO1xuICAgICAgICAgIHJldHVybiBjZW50dXJ5QnlZZWFyW3llYXJdLnB1c2goY2VudHVyeSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBoYWxmQ2VudHVyeUJ5WWVhciA9IFtdO1xuICAgICAgICBjZW50dXJ5U3RhdHMuaGFsZkNlbnR1cmllc1Njb3JlZC5tYXAoZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICB2YXIgeWVhciA9IHJlcy55ZWFyO1xuICAgICAgICAgIHZhciBoYWxmQ2VudHVyeSA9IHtcbiAgICAgICAgICAgIHNjb3JlOiByZXMucnVuc1xuICAgICAgICAgIH07XG4gICAgICAgICAgaWYodHlwZW9mKGhhbGZDZW50dXJ5QnlZZWFyW3llYXJdKSA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgaGFsZkNlbnR1cnlCeVllYXJbeWVhcl0gPSBbXTtcbiAgICAgICAgICByZXR1cm4gaGFsZkNlbnR1cnlCeVllYXJbeWVhcl0ucHVzaChoYWxmQ2VudHVyeSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgJHNjb3BlLndpbm5pbmdSYXRpbyA9ICh3b24ubGVuZ3RoL2NlbnR1cnlTdGF0cy5jZW50dXJpZXNTY29yZWQubGVuZ3RoKS50b0ZpeGVkKDIpICogMTA7XG4gICAgICAgICRzY29wZS5wcmVwYXJlQmFyR3JhcGgoc2NvcmVzLCBhZ2FpbnN0LCBjb2xvcnMpO1xuICAgICAgICAkc2NvcGUucHJlcGFyZUJhckdyYXBoQWdhaW5zdFRlYW0oY2VudHVyeUFnYWluc3RUZWFtcyk7XG4gICAgICAgICRzY29wZS5wcmVwYXJlTGluZUdyYXBoKGNlbnR1cnlCeVllYXIsaGFsZkNlbnR1cnlCeVllYXIpO1xuICAgICAgICAkc2NvcGUucHJlcGFyZURvdWdobnV0Q2hhcnQod2luY2hhc2luZ0NlbnR1cmllcy5sZW5ndGgsbG9zdGNoYXNpbmdDZW50dXJpZXMubGVuZ3RoLHRpZWRjaGFzaW5nQ2VudHVyaWVzLmxlbmd0aCxub3Jlc3VsdGNoYXNpbmdDZW50dXJpZXMubGVuZ3RoKTtcbiAgICAgICAgJHNjb3BlLnByZXBhcmVDb252ZXJzaW9uUmF0ZVBpZUNoYXJ0KHRvdGFsRmlmdGllcyx0b3RhbEh1bmRyZWRzKTtcbiAgICAgIH07XG5cblxuICAgICAgLy8gUHJlcGFyZSBCYXIgZ3JhcGggdG8gc2hvdyBDZW50dXJ5IGFnYWluc3QgdGVhbXMgYW5kIHRoZSBtYXRjaCByZXN1bHQgdmlhIGNvbG9yc1xuICAgICAgJHNjb3BlLnByZXBhcmVCYXJHcmFwaCA9IGZ1bmN0aW9uIChzY29yZXMsYWdhaW5zdCwgY29sb3JzKXtcbiAgICAgICAgJHNjb3BlLmJhcmRhdGEgPSB7XG4gICAgICAgICAgICAgICBsYWJlbHM6IGFnYWluc3QsXG4gICAgICAgICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0NlbnR1cmllcycsXG4gICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBjb2xvcnMsXG4gICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludENvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0U3Ryb2tlOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgZGF0YTogc2NvcmVzXG4gICAgICAgICAgICAgICB9XVxuICAgICAgICAgICB9O1xuXG4gICAgICAgICAgIC8vIENoYXJ0LmpzIE9wdGlvbnNcbiAgICAgICAgICAgJHNjb3BlLmJhcm9wdGlvbnMgPSB7XG5cbiAgICAgICAgICAgICAgIC8vIFNldHMgdGhlIGNoYXJ0IHRvIGJlIHJlc3BvbnNpdmVcbiAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgdGhlIHNjYWxlIHNob3VsZCBzdGFydCBhdCB6ZXJvLCBvciBhbiBvcmRlciBvZiBtYWduaXR1ZGUgZG93biBmcm9tIHRoZSBsb3dlc3QgdmFsdWVcbiAgICAgICAgICAgICAgIHNjYWxlQmVnaW5BdFplcm86IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgZ3JpZCBsaW5lcyBhcmUgc2hvd24gYWNyb3NzIHRoZSBjaGFydFxuICAgICAgICAgICAgICAgc2NhbGVTaG93R3JpZExpbmVzOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIENvbG91ciBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZUNvbG9yOiBcInJnYmEoMCwwLDAsLjA1KVwiLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFdpZHRoIG9mIHRoZSBncmlkIGxpbmVzXG4gICAgICAgICAgICAgICBzY2FsZUdyaWRMaW5lV2lkdGg6IDEsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIElmIHRoZXJlIGlzIGEgc3Ryb2tlIG9uIGVhY2ggYmFyXG4gICAgICAgICAgICAgICBiYXJTaG93U3Ryb2tlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFBpeGVsIHdpZHRoIG9mIHRoZSBiYXIgc3Ryb2tlXG4gICAgICAgICAgICAgICBiYXJTdHJva2VXaWR0aDogMixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBTcGFjaW5nIGJldHdlZW4gZWFjaCBvZiB0aGUgWCB2YWx1ZSBzZXRzXG4gICAgICAgICAgICAgICBiYXJWYWx1ZVNwYWNpbmc6IDUsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGRhdGEgc2V0cyB3aXRoaW4gWCB2YWx1ZXNcbiAgICAgICAgICAgICAgIGJhckRhdGFzZXRTcGFjaW5nOiAxXG4gICAgICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvL1ByZXBhcmUgYmFyIGdyYXBoIHRvIHNob3cgbnVtYmVyIG9mIGNlbnR1cmllcyBhZ2FpbnN0IHRlYW1zXG4gICAgICAkc2NvcGUucHJlcGFyZUJhckdyYXBoQWdhaW5zdFRlYW0gPSBmdW5jdGlvbiAoY2VudHVyeUFnYWluc3RUZWFtcyl7XG4gICAgICAgIHZhciBhZ2FpbnN0Rm9yQ2VudHVyaWVzID0gW107XG4gICAgICAgIHZhciBudW1iZXJPZkNlbnR1cmllcyA9IFtdO1xuICAgICAgICBmb3IodmFyIGNlbnR1cnlLZXkgaW4gY2VudHVyeUFnYWluc3RUZWFtcykge1xuICAgICAgICAgIGlmKGNlbnR1cnlBZ2FpbnN0VGVhbXMuaGFzT3duUHJvcGVydHkoY2VudHVyeUtleSkpIHtcbiAgICAgICAgICAgIGFnYWluc3RGb3JDZW50dXJpZXMucHVzaChjZW50dXJ5S2V5KTtcbiAgICAgICAgICAgIG51bWJlck9mQ2VudHVyaWVzLnB1c2goY2VudHVyeUFnYWluc3RUZWFtc1tjZW50dXJ5S2V5XS5sZW5ndGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuYmFyZGF0YUFnYWluc3RUZWFtID0ge1xuICAgICAgICAgICAgICAgbGFiZWxzOiBhZ2FpbnN0Rm9yQ2VudHVyaWVzLFxuICAgICAgICAgICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDZW50dXJpZXMnLFxuICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogWycjMDA4NEZGJ10sXG4gICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludENvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0U3Ryb2tlOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgZGF0YTogbnVtYmVyT2ZDZW50dXJpZXNcbiAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgIH07XG5cbiAgICAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAgICAkc2NvcGUuYmFyb3B0aW9uc0FnYWluc3RUZWFtID0ge1xuXG4gICAgICAgICAgICAgICAvLyBTZXRzIHRoZSBjaGFydCB0byBiZSByZXNwb25zaXZlXG4gICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHRoZSBzY2FsZSBzaG91bGQgc3RhcnQgYXQgemVybywgb3IgYW4gb3JkZXIgb2YgbWFnbml0dWRlIGRvd24gZnJvbSB0aGUgbG93ZXN0IHZhbHVlXG4gICAgICAgICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIGdyaWQgbGluZXMgYXJlIHNob3duIGFjcm9zcyB0aGUgY2hhcnRcbiAgICAgICAgICAgICAgIHNjYWxlU2hvd0dyaWRMaW5lczogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBDb2xvdXIgb2YgdGhlIGdyaWQgbGluZXNcbiAgICAgICAgICAgICAgIHNjYWxlR3JpZExpbmVDb2xvcjogXCJyZ2JhKDAsMCwwLC4wNSlcIixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBXaWR0aCBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZVdpZHRoOiAxLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBJZiB0aGVyZSBpcyBhIHN0cm9rZSBvbiBlYWNoIGJhclxuICAgICAgICAgICAgICAgYmFyU2hvd1N0cm9rZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBQaXhlbCB3aWR0aCBvZiB0aGUgYmFyIHN0cm9rZVxuICAgICAgICAgICAgICAgYmFyU3Ryb2tlV2lkdGg6IDIsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGVhY2ggb2YgdGhlIFggdmFsdWUgc2V0c1xuICAgICAgICAgICAgICAgYmFyVmFsdWVTcGFjaW5nOiA1LFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFNwYWNpbmcgYmV0d2VlbiBkYXRhIHNldHMgd2l0aGluIFggdmFsdWVzXG4gICAgICAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZzogMVxuICAgICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLy8gUHJlcGFyZSBMaW5lIEdyYXBoIHRvIHNob3cgY2VudHVyaWVzIGFuZCBoYWxmIGNlbnR1cmllcyBvdmVyIHRoZSB5ZWFyXG4gICAgICAkc2NvcGUucHJlcGFyZUxpbmVHcmFwaCA9IGZ1bmN0aW9uKGNlbnR1cnlCeVllYXIsaGFsZkNlbnR1cnlCeVllYXIpe1xuICAgICAgICAgIHZhciB5ZWFyT2ZjZW50dXJpZXMgPSBbXTtcbiAgICAgICAgICB2YXIgbnVtYmVyT2ZDZW50dXJpZXMgPSBbXTtcblxuICAgICAgICAgIGZvcih2YXIgY2VudHVyeSBpbiBjZW50dXJ5QnlZZWFyKSB7XG4gICAgICAgICAgICBpZihjZW50dXJ5QnlZZWFyLmhhc093blByb3BlcnR5KGNlbnR1cnkpKSB7XG4gICAgICAgICAgICAgIHllYXJPZmNlbnR1cmllcy5wdXNoKGNlbnR1cnkpO1xuICAgICAgICAgICAgICBudW1iZXJPZkNlbnR1cmllcy5wdXNoKGNlbnR1cnlCeVllYXJbY2VudHVyeV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHllYXJPZmhhbGZDZW50dXJpZXMgPSBbXTtcbiAgICAgICAgICB2YXIgbnVtYmVyT2ZIYWxmQ2VudHVyaWVzID0gW107XG5cbiAgICAgICAgICBmb3IodmFyIGhhbGZDZW50dXJ5IGluIGhhbGZDZW50dXJ5QnlZZWFyKSB7XG4gICAgICAgICAgICBpZihoYWxmQ2VudHVyeUJ5WWVhci5oYXNPd25Qcm9wZXJ0eShoYWxmQ2VudHVyeSkpIHtcbiAgICAgICAgICAgICAgeWVhck9maGFsZkNlbnR1cmllcy5wdXNoKGhhbGZDZW50dXJ5KTtcbiAgICAgICAgICAgICAgbnVtYmVyT2ZIYWxmQ2VudHVyaWVzLnB1c2goaGFsZkNlbnR1cnlCeVllYXJbaGFsZkNlbnR1cnldLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE5vdyBzaW5jZSB0aGVyZSBjYW4gYmUgeWVhcnMgd2hlbiBoZSBzY29yZWQgYSBjZW50dXJ5IGFuZCBkaWQgbm90IHNjb3JlIGEgaGFsZiBjZW50dXJ5IGFuZCB2aWNlIHZlcnNhXG4gICAgICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIHllYXJzIGZvciBib3RoIHNlcGVyYXRlbHkgYW5kIHRha2UgYSB1bmlvbiBvZiB0aGVtXG5cbiAgICAgICAgICB2YXIgeWVhcldpdGhOb0hhbGZDZW50dXJ5ID0gXy5maWx0ZXIoeWVhck9mY2VudHVyaWVzLCBmdW5jdGlvbihlbCl7XG4gICAgICAgICAgICByZXR1cm4geWVhck9maGFsZkNlbnR1cmllcy5pbmRleE9mKGVsKSA8IDA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIHllYXJXaXRoTm9DZW50dXJ5ID0gXy5maWx0ZXIoeWVhck9maGFsZkNlbnR1cmllcywgZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuIHllYXJPZmNlbnR1cmllcy5pbmRleE9mKGVsKSA8IDA7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBUYWtpbmcgdW5pb24gb2YgYm90aCB5ZWFycyBvZiBjZW50dXJpZXMgYW5kIGhhbGYgY2VudHVyaWVzLCBDTEVBTiBJVCBVUCBMQVRFUlxuICAgICAgICAgIHZhciBhbGxZZWFyc0ZvckRhdGEgPSBfLnVuaW9uKHllYXJPZmNlbnR1cmllcyx5ZWFyT2ZoYWxmQ2VudHVyaWVzKS5zb3J0KCk7XG4gICAgICAgICAgdmFyIGluZGV4T2ZOb0hhbGZjZW50dXJ5ID0geWVhcldpdGhOb0hhbGZDZW50dXJ5Lm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICByZXR1cm4gYWxsWWVhcnNGb3JEYXRhLmluZGV4T2YocmVzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgaW5kZXhPZk5vQ2VudHVyeSA9IHllYXJXaXRoTm9DZW50dXJ5Lm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICByZXR1cm4gYWxsWWVhcnNGb3JEYXRhLmluZGV4T2YocmVzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBBZGQgaW5zZXJ0IG1ldGhvZCBhZGQgcHJvdG90eXBlIGxldmVsIGxhdGVyIGlmIHRoaXMgdHlwZSBvZiBmdW5jdGlvbmFsaXR5IGlzIHJlcXVpcmVkIGZyZXF1ZW50bHlcbiAgICAgICAgICAvLyBTaW5jZSB3ZSBoYXZlIHRoZSB5ZWFycyB3aXRob3V0IGNlbnR1cnkgYW5kIHdpdGhvdXQgaGFsZiBjZW50dXJ5IHdlIGNhbiBhZGQgMCBpbiB0aGVpciByZXNwZWN0aXZlIGFycmF5c1xuICAgICAgICAgIC8vIGZvciB0aG9zZSB5ZWFyc1xuICAgICAgICAgIGluZGV4T2ZOb0NlbnR1cnkubWFwKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyT2ZDZW50dXJpZXMuc3BsaWNlKHJlcywgMCwgMCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5kZXhPZk5vSGFsZmNlbnR1cnkubWFwKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyT2ZIYWxmQ2VudHVyaWVzLnNwbGljZShyZXMsIDAsIDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICRzY29wZS5saW5lRGF0YSA9IHtcbiAgICAgICAgICBsYWJlbHM6IGFsbFllYXJzRm9yRGF0YSxcbiAgICAgICAgICBkYXRhc2V0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogJ0hhbGYgQ2VudHVyaWVzIG92ZXIgdGhlIHllYXJzJyxcbiAgICAgICAgICAgICAgZmlsbENvbG9yOiBbJ3JnYmEoMCwxMzIsMjU1LDAuNCknXSxcbiAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDAsMTMyLDI1NSwwLjQpJyxcbiAgICAgICAgICAgICAgcG9pbnRDb2xvcjogJ3JnYmEoMCwxMzIsMjU1LDAuNCknLFxuICAgICAgICAgICAgICBwb2ludFN0cm9rZUNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodFN0cm9rZTogJ3JnYmEoMjIwLDIyMCwyMjAsMSknLFxuICAgICAgICAgICAgICBkYXRhOiBudW1iZXJPZkhhbGZDZW50dXJpZXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxhYmVsOiAnQ2VudHVyaWVzJyxcbiAgICAgICAgICAgICAgZmlsbENvbG9yOiBbJ3JnYmEoMjIwLDIyMCwyMjAsMC42KSddLFxuICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JnYmEoMjIwLDIyMCwyMjAsMC42KScsXG4gICAgICAgICAgICAgIHBvaW50Q29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDAuNiknLFxuICAgICAgICAgICAgICBwb2ludFN0cm9rZUNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodFN0cm9rZTogJ3JnYmEoMjIwLDIyMCwyMjAsMSknLFxuICAgICAgICAgICAgICBkYXRhOiBudW1iZXJPZkNlbnR1cmllc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDaGFydC5qcyBPcHRpb25zXG4gICAgICAgICRzY29wZS5saW5lT3B0aW9ucyA9IHtcblxuICAgICAgICAgIC8vIFNldHMgdGhlIGNoYXJ0IHRvIGJlIHJlc3BvbnNpdmVcbiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgLy8vQm9vbGVhbiAtIFdoZXRoZXIgZ3JpZCBsaW5lcyBhcmUgc2hvd24gYWNyb3NzIHRoZSBjaGFydFxuICAgICAgICAgIHNjYWxlU2hvd0dyaWRMaW5lcyA6IHRydWUsXG5cbiAgICAgICAgICAvL1N0cmluZyAtIENvbG91ciBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgIHNjYWxlR3JpZExpbmVDb2xvciA6IFwicmdiYSgwLDAsMCwuMDUpXCIsXG5cbiAgICAgICAgICAvL051bWJlciAtIFdpZHRoIG9mIHRoZSBncmlkIGxpbmVzXG4gICAgICAgICAgc2NhbGVHcmlkTGluZVdpZHRoIDogMSxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgdGhlIGxpbmUgaXMgY3VydmVkIGJldHdlZW4gcG9pbnRzXG4gICAgICAgICAgYmV6aWVyQ3VydmUgOiB0cnVlLFxuXG4gICAgICAgICAgLy9OdW1iZXIgLSBUZW5zaW9uIG9mIHRoZSBiZXppZXIgY3VydmUgYmV0d2VlbiBwb2ludHNcbiAgICAgICAgICBiZXppZXJDdXJ2ZVRlbnNpb24gOiAwLjQsXG5cbiAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHRvIHNob3cgYSBkb3QgZm9yIGVhY2ggcG9pbnRcbiAgICAgICAgICBwb2ludERvdCA6IHRydWUsXG5cbiAgICAgICAgICAvL051bWJlciAtIFJhZGl1cyBvZiBlYWNoIHBvaW50IGRvdCBpbiBwaXhlbHNcbiAgICAgICAgICBwb2ludERvdFJhZGl1cyA6IDQsXG5cbiAgICAgICAgICAvL051bWJlciAtIFBpeGVsIHdpZHRoIG9mIHBvaW50IGRvdCBzdHJva2VcbiAgICAgICAgICBwb2ludERvdFN0cm9rZVdpZHRoIDogMSxcblxuICAgICAgICAgIC8vTnVtYmVyIC0gYW1vdW50IGV4dHJhIHRvIGFkZCB0byB0aGUgcmFkaXVzIHRvIGNhdGVyIGZvciBoaXQgZGV0ZWN0aW9uIG91dHNpZGUgdGhlIGRyYXduIHBvaW50XG4gICAgICAgICAgcG9pbnRIaXREZXRlY3Rpb25SYWRpdXMgOiAyMCxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgdG8gc2hvdyBhIHN0cm9rZSBmb3IgZGF0YXNldHNcbiAgICAgICAgICBkYXRhc2V0U3Ryb2tlIDogdHJ1ZSxcblxuICAgICAgICAgIC8vTnVtYmVyIC0gUGl4ZWwgd2lkdGggb2YgZGF0YXNldCBzdHJva2VcbiAgICAgICAgICBkYXRhc2V0U3Ryb2tlV2lkdGggOiAyLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB0byBmaWxsIHRoZSBkYXRhc2V0IHdpdGggYSBjb2xvdXJcbiAgICAgICAgICBkYXRhc2V0RmlsbCA6IHRydWUsXG5cbiAgICAgICAgICAvLyBGdW5jdGlvbiAtIG9uIGFuaW1hdGlvbiBwcm9ncmVzc1xuICAgICAgICAgIG9uQW5pbWF0aW9uUHJvZ3Jlc3M6IGZ1bmN0aW9uKCl7fSxcblxuICAgICAgICAgIC8vIEZ1bmN0aW9uIC0gb24gYW5pbWF0aW9uIGNvbXBsZXRlXG4gICAgICAgICAgb25BbmltYXRpb25Db21wbGV0ZTogZnVuY3Rpb24oKXt9XG5cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICAkc2NvcGUucHJlcGFyZURvdWdobnV0Q2hhcnQgPSBmdW5jdGlvbih3b24sIGxvc3QsIHRpZWQsIG5vcmVzdWx0KXtcbiAgICAgICAgJHNjb3BlLnJlc291cmNlcyA9IFt7XG4gICAgICAgICAgICAgICB2YWx1ZTogd29uLFxuICAgICAgICAgICAgICAgY29sb3I6ICcjRkZGRjAwJyxcbiAgICAgICAgICAgICAgIGhpZ2hsaWdodDogJyNlNWU1MDAnLFxuICAgICAgICAgICAgICAgbGFiZWw6ICdJbmRpYSBXb24nXG4gICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgIHZhbHVlOiBsb3N0LFxuICAgICAgICAgICAgICAgY29sb3I6ICcjNDZCRkJEJyxcbiAgICAgICAgICAgICAgIGhpZ2hsaWdodDogJyM1QUQzRDEnLFxuICAgICAgICAgICAgICAgbGFiZWw6ICdJbmRpYSBMb3N0J1xuICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICB2YWx1ZTogdGllZCxcbiAgICAgICAgICAgICAgIGNvbG9yOiAnI0Y3NDY0QScsXG4gICAgICAgICAgICAgICBoaWdobGlnaHQ6ICcjRkY1QTVFJyxcbiAgICAgICAgICAgICAgIGxhYmVsOiAnTWF0Y2ggVGllZCdcbiAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgdmFsdWU6IG5vcmVzdWx0LFxuICAgICAgICAgICAgICAgY29sb3I6ICcjRjc0NjRBJyxcbiAgICAgICAgICAgICAgIGhpZ2hsaWdodDogJyNFRjVBNUUnLFxuICAgICAgICAgICAgICAgbGFiZWw6ICdObyBSZXN1bHQnXG4gICAgICAgICAgIH1cbiAgICAgICAgIF07XG5cbiAgICAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcblxuICAgICAgICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBzaG91bGQgc2hvdyBhIHN0cm9rZSBvbiBlYWNoIHNlZ21lbnRcbiAgICAgICAgICAgICAgIHNlZ21lbnRTaG93U3Ryb2tlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIFRoZSBjb2xvdXIgb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgICAgICAgc2VnbWVudFN0cm9rZUNvbG9yOiAnI2ZmZicsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHdpZHRoIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcbiAgICAgICAgICAgICAgIHNlZ21lbnRTdHJva2VXaWR0aDogMixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBUaGUgcGVyY2VudGFnZSBvZiB0aGUgY2hhcnQgdGhhdCB3ZSBjdXQgb3V0IG9mIHRoZSBtaWRkbGVcbiAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dDogNTAsIC8vIFRoaXMgaXMgMCBmb3IgUGllIGNoYXJ0c1xuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIEFtb3VudCBvZiBhbmltYXRpb24gc3RlcHNcbiAgICAgICAgICAgICAgIGFuaW1hdGlvblN0ZXBzOiAxMDAsXG5cbiAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gQW5pbWF0aW9uIGVhc2luZyBlZmZlY3RcbiAgICAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJ2Vhc2VPdXRCb3VuY2UnLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgdGhlIHJvdGF0aW9uIG9mIHRoZSBEb3VnaG51dFxuICAgICAgICAgICAgICAgYW5pbWF0ZVJvdGF0ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHNjYWxpbmcgdGhlIERvdWdobnV0IGZyb20gdGhlIGNlbnRyZVxuICAgICAgICAgICAgICAgYW5pbWF0ZVNjYWxlOiBmYWxzZSxcblxuICAgICAgICAgICB9O1xuXG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucHJlcGFyZUNvbnZlcnNpb25SYXRlUGllQ2hhcnQgPSBmdW5jdGlvbihmaWZ0eSxodW5kcmVkKXtcbiAgICAgICAgICAgICRzY29wZS5jb252ZXJzaW9uRGF0YSA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogZmlmdHksXG4gICAgICAgICAgICBjb2xvcjonI0Y3NDY0QScsXG4gICAgICAgICAgICBoaWdobGlnaHQ6ICcjRkY1QTVFJyxcbiAgICAgICAgICAgIGxhYmVsOiAnSGFsZiBDZW50dXJpZXMnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogaHVuZHJlZCxcbiAgICAgICAgICAgIGNvbG9yOiAnI0ZEQjQ1QycsXG4gICAgICAgICAgICBoaWdobGlnaHQ6ICcjRkZDODcwJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ2VudHVyaWVzJ1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICAvLyBDaGFydC5qcyBPcHRpb25zXG4gICAgICAgICRzY29wZS5jb252ZXJzaW9uT3B0aW9ucyA9IHtcblxuICAgICAgICAgIC8vIFNldHMgdGhlIGNoYXJ0IHRvIGJlIHJlc3BvbnNpdmVcbiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBzaG91bGQgc2hvdyBhIHN0cm9rZSBvbiBlYWNoIHNlZ21lbnRcbiAgICAgICAgICBzZWdtZW50U2hvd1N0cm9rZSA6IHRydWUsXG5cbiAgICAgICAgICAvL1N0cmluZyAtIFRoZSBjb2xvdXIgb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgIHNlZ21lbnRTdHJva2VDb2xvciA6ICcjZmZmJyxcblxuICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHdpZHRoIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcbiAgICAgICAgICBzZWdtZW50U3Ryb2tlV2lkdGggOiAyLFxuXG4gICAgICAgICAgLy9OdW1iZXIgLSBUaGUgcGVyY2VudGFnZSBvZiB0aGUgY2hhcnQgdGhhdCB3ZSBjdXQgb3V0IG9mIHRoZSBtaWRkbGVcbiAgICAgICAgICBwZXJjZW50YWdlSW5uZXJDdXRvdXQgOiAwLCAvLyBUaGlzIGlzIDAgZm9yIFBpZSBjaGFydHNcblxuICAgICAgICAgIC8vTnVtYmVyIC0gQW1vdW50IG9mIGFuaW1hdGlvbiBzdGVwc1xuICAgICAgICAgIGFuaW1hdGlvblN0ZXBzIDogMTAwLFxuXG4gICAgICAgICAgLy9TdHJpbmcgLSBBbmltYXRpb24gZWFzaW5nIGVmZmVjdFxuICAgICAgICAgIGFuaW1hdGlvbkVhc2luZyA6ICdlYXNlT3V0Qm91bmNlJyxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2UgYW5pbWF0ZSB0aGUgcm90YXRpb24gb2YgdGhlIERvdWdobnV0XG4gICAgICAgICAgYW5pbWF0ZVJvdGF0ZSA6IHRydWUsXG5cbiAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgc2NhbGluZyB0aGUgRG91Z2hudXQgZnJvbSB0aGUgY2VudHJlXG4gICAgICAgICAgYW5pbWF0ZVNjYWxlIDogZmFsc2VcblxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9KTtcbiIsIi8vIFJ1bnMgU3RhdHMgY29udHJvbGxlclxuLy8gVGhpcyBjb250cm9sbGVyIGlzIGF0dGFjaGVkIHRvIGEgZGlyZWN0aXZlIC0gcnVuc1N0YXRzXG4vLyBhbmQgdGhlIHB1cnBvc2Ugb2YgdGhpcyBjb250cm9sbGVyIGlzIHRvIHdvcmsgb24gdGhlIHJ1bnNTdGF0cyBwYXNzZWQgdG8gaXRzICRzY29wZSB2aWEgaXRzIGF0dHJpYnV0ZVxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ3J1bnNTdGF0c0N0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgIC8vIFdhdGNoIGZvciB0aGUgJHNjb3BlLmNlbnR1cnlTdGF0cyB2YXJpYWJsZSB0byBnZXQgdGhlIGRhdGEgZnJvbSBhdHRyaWJ1dGVcbiAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ydW5zU3RhdHM7XG4gICAgICAgICAgIH0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgIGlmKCFuKXJldHVybjtcbiAgICAgICAgICAgICAgIC8vIElmIGl0IGhhcyByZWNlaXZlZCBkYXRhIHRoZW4gc3RhcnQgd29ya2luZyBvbiBBbmFseXppbmcgQ2VudHVyaWVzXG4gICAgICAgICAgICAgICAkc2NvcGUuYW5hbHl6ZUlubmluZ3MoJHNjb3BlLnJ1bnNTdGF0cyk7XG4gICAgICAgICAgIH0pO1xuXG5cbiAgICAgICRzY29wZS5hbmFseXplSW5uaW5ncyA9IGZ1bmN0aW9uKHJ1bnNTdGF0cyl7XG4gICAgICAgIC8vUnVucyBvdmVyIHRoZSB5ZWFyc1xuICAgICAgICB2YXIgcnVuc0J5WWVhciA9IFtdO1xuICAgICAgICB2YXIgcnVuc0FnYWluc3RUZWFtcyA9IFtdO1xuICAgICAgICB2YXIgZmlyc3RJbm5pbmdzID0gMDtcbiAgICAgICAgdmFyIHNlY29uZElubmluZ3MgPSAwO1xuICAgICAgICB2YXIgcnVuc0ZpcnN0SW5uaW5ncyA9IDA7XG4gICAgICAgIHZhciBydW5zU2Vjb25kSW5uaW5ncyA9IDA7XG4gICAgICAgIHJ1bnNTdGF0cy5hbGxJbm5pbmdzLm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIC8vY2FsY3VsYXRlIG51bWJlciBvZiBmaXJzdCBpbm5pbmdzIGFuZCBzZWNvbmQgaW5uaW5ncyBwbGF5ZWQgYW5kIHJ1biBzY29yZWQgaW4gdGhlbVxuICAgICAgICAgIGlmKHJlcy5pbm5pbmdzID09IFwiMXN0XCIpe1xuICAgICAgICAgICAgZmlyc3RJbm5pbmdzKys7XG4gICAgICAgICAgICBydW5zRmlyc3RJbm5pbmdzICs9IHJlcy5ydW5zO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc2Vjb25kSW5uaW5ncysrO1xuICAgICAgICAgICAgcnVuc1NlY29uZElubmluZ3MgKz0gcmVzLnJ1bnM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9nZXQgcnVucyBvbiB5ZWFybHkgYmFzaXNcbiAgICAgICAgICB2YXIgeWVhciA9IHJlcy55ZWFyO1xuICAgICAgICAgIHZhciB0ZWFtID0gcmVzLmFnYWluc3Q7XG4gICAgICAgICAgaWYodHlwZW9mKHJ1bnNCeVllYXJbeWVhcl0pID09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgICBydW5zQnlZZWFyW3llYXJdID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHR5cGVvZihydW5zQnlZZWFyW3llYXJdKSA9PSBcIm51bWJlclwiKXtcbiAgICAgICAgICAgICAgcnVuc0J5WWVhclt5ZWFyXSArPSBwYXJzZUludChyZXMucnVucyk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBydW5zQnlZZWFyW3llYXJdID0gcGFyc2VJbnQocmVzLnJ1bnMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vZ2V0IHJ1bnMgYWdhaW5zdCB0ZWFtc1xuICAgICAgICAgIGlmKHR5cGVvZihydW5zQWdhaW5zdFRlYW1zW3RlYW1dKSA9PSBcInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgcnVuc0FnYWluc3RUZWFtc1t0ZWFtXSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZih0eXBlb2YocnVuc0FnYWluc3RUZWFtc1t0ZWFtXSkgPT0gXCJudW1iZXJcIil7XG4gICAgICAgICAgICAgIHJldHVybiBydW5zQWdhaW5zdFRlYW1zW3RlYW1dICs9IHBhcnNlSW50KHJlcy5ydW5zKTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBydW5zQWdhaW5zdFRlYW1zW3RlYW1dID0gcGFyc2VJbnQocmVzLnJ1bnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5wcmVwYXJlUnVuc0J5WWVhckdyYXBoKHJ1bnNCeVllYXIpO1xuICAgICAgICAkc2NvcGUucHJlcGFyZVJ1bnNCeVRlYW1HcmFwaChydW5zQWdhaW5zdFRlYW1zKTtcbiAgICAgICAgJHNjb3BlLnByZXBhcmVSdW5zQnlJbm5pbmdzR3JhcGgocnVuc0ZpcnN0SW5uaW5ncywgcnVuc1NlY29uZElubmluZ3MpO1xuICAgICAgICAkc2NvcGUucHJlcGFyZUF2ZXJhZ2VCeUlubmluZ3NHcmFwaChydW5zRmlyc3RJbm5pbmdzLGZpcnN0SW5uaW5ncyxydW5zU3RhdHMuZmlyc3RJbm5pbmdzTm90b3V0cyxydW5zU2Vjb25kSW5uaW5ncywgc2Vjb25kSW5uaW5ncyxydW5zU3RhdHMuc2Vjb25kSW5uaW5nc05vdG91dHMpO1xuICAgICAgfTtcblxuXG4gICAgICAkc2NvcGUucHJlcGFyZVJ1bnNCeVllYXJHcmFwaCA9IGZ1bmN0aW9uIChydW5zQnlZZWFyKXtcbiAgICAgICAgdmFyIHllYXJzID0gW107XG4gICAgICAgIHZhciBydW5zID0gW107XG4gICAgICAgIGZvcih2YXIgeWVhciBpbiBydW5zQnlZZWFyKSB7XG4gICAgICAgICAgaWYocnVuc0J5WWVhci5oYXNPd25Qcm9wZXJ0eSh5ZWFyKSkge1xuICAgICAgICAgICAgeWVhcnMucHVzaCh5ZWFyKTtcbiAgICAgICAgICAgIHJ1bnMucHVzaChydW5zQnlZZWFyW3llYXJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbG9ycyA9IFtdO1xuICAgICAgICBydW5zLm1hcChmdW5jdGlvbihyZXMsIGtleSl7XG4gICAgICAgICAgaWYocmVzID49IDEwMDApe1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1trZXldID0gXCIjRkZGRjAwXCI7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzW2tleV0gPSBcIiMwMDg0RkZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS55ZWFyQmFyZGF0YSA9IHtcbiAgICAgICAgICAgICAgIGxhYmVsczogeWVhcnMsXG4gICAgICAgICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1J1bnMgT3ZlciB0aGUgeWVhcnMnLFxuICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogY29sb3JzLFxuICAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRDb2xvcjogJ3JnYmEoMjIwLDIyMCwyMjAsMSknLFxuICAgICAgICAgICAgICAgICAgIHBvaW50U3Ryb2tlQ29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodEZpbGw6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodFN0cm9rZTogJ3JnYmEoMjIwLDIyMCwyMjAsMSknLFxuICAgICAgICAgICAgICAgICAgIGRhdGE6IHJ1bnNcbiAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgIH07XG5cbiAgICAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAgICAkc2NvcGUueWVhckJhcm9wdGlvbnMgPSB7XG5cbiAgICAgICAgICAgICAgIC8vIFNldHMgdGhlIGNoYXJ0IHRvIGJlIHJlc3BvbnNpdmVcbiAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgdGhlIHNjYWxlIHNob3VsZCBzdGFydCBhdCB6ZXJvLCBvciBhbiBvcmRlciBvZiBtYWduaXR1ZGUgZG93biBmcm9tIHRoZSBsb3dlc3QgdmFsdWVcbiAgICAgICAgICAgICAgIHNjYWxlQmVnaW5BdFplcm86IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgZ3JpZCBsaW5lcyBhcmUgc2hvd24gYWNyb3NzIHRoZSBjaGFydFxuICAgICAgICAgICAgICAgc2NhbGVTaG93R3JpZExpbmVzOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIENvbG91ciBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZUNvbG9yOiBcInJnYmEoMCwwLDAsLjA1KVwiLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFdpZHRoIG9mIHRoZSBncmlkIGxpbmVzXG4gICAgICAgICAgICAgICBzY2FsZUdyaWRMaW5lV2lkdGg6IDEsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIElmIHRoZXJlIGlzIGEgc3Ryb2tlIG9uIGVhY2ggYmFyXG4gICAgICAgICAgICAgICBiYXJTaG93U3Ryb2tlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFBpeGVsIHdpZHRoIG9mIHRoZSBiYXIgc3Ryb2tlXG4gICAgICAgICAgICAgICBiYXJTdHJva2VXaWR0aDogMixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBTcGFjaW5nIGJldHdlZW4gZWFjaCBvZiB0aGUgWCB2YWx1ZSBzZXRzXG4gICAgICAgICAgICAgICBiYXJWYWx1ZVNwYWNpbmc6IDUsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGRhdGEgc2V0cyB3aXRoaW4gWCB2YWx1ZXNcbiAgICAgICAgICAgICAgIGJhckRhdGFzZXRTcGFjaW5nOiAxXG5cbiAgICAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICAkc2NvcGUucHJlcGFyZVJ1bnNCeVRlYW1HcmFwaCA9IGZ1bmN0aW9uIChydW5zQWdhaW5zdFRlYW1zKXtcbiAgICAgICAgdmFyIHRlYW1zID0gW107XG4gICAgICAgIHZhciBydW5zID0gW107XG4gICAgICAgIGZvcih2YXIgdGVhbSBpbiBydW5zQWdhaW5zdFRlYW1zKSB7XG4gICAgICAgICAgaWYocnVuc0FnYWluc3RUZWFtcy5oYXNPd25Qcm9wZXJ0eSh0ZWFtKSkge1xuICAgICAgICAgICAgdGVhbXMucHVzaCh0ZWFtKTtcbiAgICAgICAgICAgIHJ1bnMucHVzaChydW5zQWdhaW5zdFRlYW1zW3RlYW1dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRlYW1CYXJkYXRhID0ge1xuICAgICAgICAgICAgICAgbGFiZWxzOiB0ZWFtcyxcbiAgICAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUnVucyBPdmVyIHRoZSB5ZWFycycsXG4gICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBbJyMwMDg0RkYnXSxcbiAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JnYmEoMjIwLDIyMCwyMjAsMSknLFxuICAgICAgICAgICAgICAgICAgIHBvaW50Q29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludFN0cm9rZUNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRGaWxsOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2U6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBkYXRhOiBydW5zXG4gICAgICAgICAgICAgICB9XVxuICAgICAgICAgICB9O1xuXG4gICAgICAgICAgIC8vIENoYXJ0LmpzIE9wdGlvbnNcbiAgICAgICAgICAgJHNjb3BlLnRlYW1CYXJvcHRpb25zID0ge1xuXG4gICAgICAgICAgICAgICAvLyBTZXRzIHRoZSBjaGFydCB0byBiZSByZXNwb25zaXZlXG4gICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHRoZSBzY2FsZSBzaG91bGQgc3RhcnQgYXQgemVybywgb3IgYW4gb3JkZXIgb2YgbWFnbml0dWRlIGRvd24gZnJvbSB0aGUgbG93ZXN0IHZhbHVlXG4gICAgICAgICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIGdyaWQgbGluZXMgYXJlIHNob3duIGFjcm9zcyB0aGUgY2hhcnRcbiAgICAgICAgICAgICAgIHNjYWxlU2hvd0dyaWRMaW5lczogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBDb2xvdXIgb2YgdGhlIGdyaWQgbGluZXNcbiAgICAgICAgICAgICAgIHNjYWxlR3JpZExpbmVDb2xvcjogXCJyZ2JhKDAsMCwwLC4wNSlcIixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBXaWR0aCBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZVdpZHRoOiAxLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBJZiB0aGVyZSBpcyBhIHN0cm9rZSBvbiBlYWNoIGJhclxuICAgICAgICAgICAgICAgYmFyU2hvd1N0cm9rZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBQaXhlbCB3aWR0aCBvZiB0aGUgYmFyIHN0cm9rZVxuICAgICAgICAgICAgICAgYmFyU3Ryb2tlV2lkdGg6IDIsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGVhY2ggb2YgdGhlIFggdmFsdWUgc2V0c1xuICAgICAgICAgICAgICAgYmFyVmFsdWVTcGFjaW5nOiA1LFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFNwYWNpbmcgYmV0d2VlbiBkYXRhIHNldHMgd2l0aGluIFggdmFsdWVzXG4gICAgICAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZzogMVxuICAgICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgICRzY29wZS5wcmVwYXJlUnVuc0J5SW5uaW5nc0dyYXBoID0gZnVuY3Rpb24oZmlyc3RJbm5pbmdzLCBzZWNvbmRJbm5pbmdzKXtcbiAgICAgICAgJHNjb3BlLmlubmluaW5nc1J1bnNyZXNvdXJjZXMgPSBbe1xuICAgICAgICAgICAgICAgdmFsdWU6IGZpcnN0SW5uaW5ncyxcbiAgICAgICAgICAgICAgIGNvbG9yOiAnI0ZGRkYwMCcsXG4gICAgICAgICAgICAgICBoaWdobGlnaHQ6ICcjZTVlNTAwJyxcbiAgICAgICAgICAgICAgIGxhYmVsOiAnRmlyc3QgSW5uaW5ncydcbiAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgdmFsdWU6IHNlY29uZElubmluZ3MsXG4gICAgICAgICAgICAgICBjb2xvcjogJyM0NkJGQkQnLFxuICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiAnIzVBRDNEMScsXG4gICAgICAgICAgICAgICBsYWJlbDogJ1NlY29uZCBJbm5pbmdzJ1xuICAgICAgICAgICB9XTtcblxuICAgICAgICAgICAvLyBDaGFydC5qcyBPcHRpb25zXG4gICAgICAgICAgICRzY29wZS5pbm5pbmluZ3NSdW5zb3B0aW9ucyA9IHtcblxuICAgICAgICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBzaG91bGQgc2hvdyBhIHN0cm9rZSBvbiBlYWNoIHNlZ21lbnRcbiAgICAgICAgICAgICAgIHNlZ21lbnRTaG93U3Ryb2tlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIFRoZSBjb2xvdXIgb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgICAgICAgc2VnbWVudFN0cm9rZUNvbG9yOiAnI2ZmZicsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHdpZHRoIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcbiAgICAgICAgICAgICAgIHNlZ21lbnRTdHJva2VXaWR0aDogMixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBUaGUgcGVyY2VudGFnZSBvZiB0aGUgY2hhcnQgdGhhdCB3ZSBjdXQgb3V0IG9mIHRoZSBtaWRkbGVcbiAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dDogNTAsIC8vIFRoaXMgaXMgMCBmb3IgUGllIGNoYXJ0c1xuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIEFtb3VudCBvZiBhbmltYXRpb24gc3RlcHNcbiAgICAgICAgICAgICAgIGFuaW1hdGlvblN0ZXBzOiAxMDAsXG5cbiAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gQW5pbWF0aW9uIGVhc2luZyBlZmZlY3RcbiAgICAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJ2Vhc2VPdXRCb3VuY2UnLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgdGhlIHJvdGF0aW9uIG9mIHRoZSBEb3VnaG51dFxuICAgICAgICAgICAgICAgYW5pbWF0ZVJvdGF0ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHNjYWxpbmcgdGhlIERvdWdobnV0IGZyb20gdGhlIGNlbnRyZVxuICAgICAgICAgICAgICAgYW5pbWF0ZVNjYWxlOiBmYWxzZVxuXG4gICAgICAgICAgIH07XG5cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5wcmVwYXJlQXZlcmFnZUJ5SW5uaW5nc0dyYXBoID0gZnVuY3Rpb24ocnVuc0ZpcnN0SW5uaW5ncyxmaXJzdElubmluZ3MsZmlyc3RJbm5pbmdzTm90b3V0cyxydW5zU2Vjb25kSW5uaW5ncywgc2Vjb25kSW5uaW5ncyxzZWNvbmRJbm5pbmdzTm90b3V0cyl7XG4gICAgICAgIHZhciBmaXJzdElubmluZ3NBdmVyYWdlID0gcnVuc0ZpcnN0SW5uaW5ncyAvIChmaXJzdElubmluZ3MgLSBmaXJzdElubmluZ3NOb3RvdXRzKTtcbiAgICAgICAgdmFyIHNlY29uZElubmluZ3NBdmVyYWdlID0gcnVuc1NlY29uZElubmluZ3MgLyAoc2Vjb25kSW5uaW5ncyAtIHNlY29uZElubmluZ3NOb3RvdXRzKTtcblxuICAgICAgICAkc2NvcGUuYXZlcmFnZURhdGEgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IGZpcnN0SW5uaW5nc0F2ZXJhZ2UudG9GaXhlZCgyKSxcbiAgICAgICAgICAgIGNvbG9yOicjRjc0NjRBJyxcbiAgICAgICAgICAgIGhpZ2hsaWdodDogJyNGRjVBNUUnLFxuICAgICAgICAgICAgbGFiZWw6ICdBdmVyYWdlIGluIEZpcnN0IElubmluZ3MnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogc2Vjb25kSW5uaW5nc0F2ZXJhZ2UudG9GaXhlZCgyKSxcbiAgICAgICAgICAgIGNvbG9yOiAnI0ZEQjQ1QycsXG4gICAgICAgICAgICBoaWdobGlnaHQ6ICcjRkZDODcwJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQXZlcmFnZSBpbiBTZWNvbmQgSW5uaW5ncydcbiAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAkc2NvcGUuYXZlcmFnZU9wdGlvbnMgPSB7XG5cbiAgICAgICAgICAvLyBTZXRzIHRoZSBjaGFydCB0byBiZSByZXNwb25zaXZlXG4gICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2Ugc2hvdWxkIHNob3cgYSBzdHJva2Ugb24gZWFjaCBzZWdtZW50XG4gICAgICAgICAgc2VnbWVudFNob3dTdHJva2UgOiB0cnVlLFxuXG4gICAgICAgICAgLy9TdHJpbmcgLSBUaGUgY29sb3VyIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcbiAgICAgICAgICBzZWdtZW50U3Ryb2tlQ29sb3IgOiAnI2ZmZicsXG5cbiAgICAgICAgICAvL051bWJlciAtIFRoZSB3aWR0aCBvZiBlYWNoIHNlZ21lbnQgc3Ryb2tlXG4gICAgICAgICAgc2VnbWVudFN0cm9rZVdpZHRoIDogMixcblxuICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGNoYXJ0IHRoYXQgd2UgY3V0IG91dCBvZiB0aGUgbWlkZGxlXG4gICAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0IDogMCwgLy8gVGhpcyBpcyAwIGZvciBQaWUgY2hhcnRzXG5cbiAgICAgICAgICAvL051bWJlciAtIEFtb3VudCBvZiBhbmltYXRpb24gc3RlcHNcbiAgICAgICAgICBhbmltYXRpb25TdGVwcyA6IDEwMCxcblxuICAgICAgICAgIC8vU3RyaW5nIC0gQW5pbWF0aW9uIGVhc2luZyBlZmZlY3RcbiAgICAgICAgICBhbmltYXRpb25FYXNpbmcgOiAnZWFzZU91dEJvdW5jZScsXG5cbiAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgdGhlIHJvdGF0aW9uIG9mIHRoZSBEb3VnaG51dFxuICAgICAgICAgIGFuaW1hdGVSb3RhdGUgOiB0cnVlLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHNjYWxpbmcgdGhlIERvdWdobnV0IGZyb20gdGhlIGNlbnRyZVxuICAgICAgICAgIGFuaW1hdGVTY2FsZSA6IGZhbHNlXG5cbiAgICAgICAgfTtcbiAgICAgIH07XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
