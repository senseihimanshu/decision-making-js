angular.module("app",["ngRoute","ui.router","tc.chartjs"]),angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"/nav.html"},content:{templateUrl:"/home.html",controller:"homeCtrl"}}}).state("app.home",{url:"home",views:{"content@":{templateUrl:"users/home.html",controller:"homeCtrl"}}}),n.html5Mode(!0)}]),angular.module("app").controller("homeCtrl",["$scope","$http","dataMutator",function(e,t,n){e.setup=function(){n.getData().then(function(t){n.csvToJSON(t.data,function(t){n.getCareerStats(t,function(t){e.stats=t})})},function(e){console.error(e)})},e.setup()}]),angular.module("app").controller("masterCtrl",function(){console.info("App Loaded")}),angular.module("app").service("dataMutator",["$http",function(e){function t(){return e.get("/data/sachin.csv")}function n(e,t){for(var n=e.split("\n"),r=[],a=n[0].split(","),i=1;i<n.length-1;i++){for(var o={},s=n[i].split(","),l=0;l<a.length;l++)o[a[l]]=s[l];r.push(o)}return t&&"function"==typeof t?t(r):r}function r(e,t){var n=e.length,r=0,a=[],i=[],o=[],s=0,l=0,u=0,c=0,p=0,g=0,h=0;angular.forEach(e,function(e){var t={},n={},d={};e.batting_score.indexOf("*")>-1&&("1st"==e.batting_innings?g++:h++,e.batting_score=e.batting_score.replace("*",""),s++),isNaN(e.batting_score)?l++:(e.batting_score=parseInt(e.batting_score),t.runs=e.batting_score,t.against=e.opposition,t.result=e.match_result,t.innings=e.batting_innings,t.year=new Date(Date.parse(e.date)).getFullYear(),o.push(t),e.batting_score>=50&&e.batting_score<100?(d.runs=e.batting_score,d.against=e.opposition,d.result=e.match_result,d.innings=e.batting_innings,d.year=new Date(Date.parse(e.date)).getFullYear(),i.push(d)):e.batting_score>=100&&(n.runs=e.batting_score,n.against=e.opposition,n.result=e.match_result,n.innings=e.batting_innings,n.year=new Date(Date.parse(e.date)).getFullYear(),a.push(n)),r+=e.batting_score),!isNaN(e.wickets)&&parseInt(e.wickets)>0&&(e.wickets=parseInt(e.wickets),u+=e.wickets),!isNaN(e.catches)&&parseInt(e.catches)>0&&(e.catches=parseInt(e.catches),p+=e.catches),isNaN(e.runs_conceded)||(e.runs_conceded=parseInt(e.runs_conceded),c+=e.runs_conceded)});var d=n-l,f={totalMatches:n,totalRuns:r,halfCenturiesScored:i.length,centuriesScored:a.length,highestScore:Math.max.apply(null,a.map(function(e){return e.runs})),notOuts:s,totalInnings:d,battingAverage:(r/(d-s)).toFixed(2),wicketsTaken:u,runsConceded:c,bowlingAverage:(c/u).toFixed(2),catches:p,allCenturies:{centuriesScored:a,halfCenturiesScored:i},allInnings:{allInnings:o,firstInningsNotouts:g,secondInningsNotouts:h}};return t&&"function"==typeof t?t(f):f}return{getData:t,csvToJSON:n,getCareerStats:r}}]),angular.module("app").directive("careerStats",function(){return{restrict:"E",scope:{stats:"=item"},templateUrl:"partials/careerStats.html"}}),angular.module("app").directive("centuryStats",function(){return{restrict:"E",scope:{centuryStats:"=item"},templateUrl:"partials/centuryStats.html",controller:"centuryStatsCtrl"}}),angular.module("app").directive("drawConclusion",function(){return{restrict:"E",templateUrl:"partials/drawConclusion.html"}}),angular.module("app").directive("legends",function(){return{restrict:"EA",scope:{description:"@",color:"@"},templateUrl:"partials/legends.html"}}),angular.module("app").directive("personalInfo",function(){return{restrict:"E",templateUrl:"partials/personalInfo.html"}}),angular.module("app").directive("runsStats",function(){return{restrict:"E",scope:{runsStats:"=item"},templateUrl:"partials/runsStats.html",controller:"runsStatsCtrl"}}),angular.module("app").controller("centuryStatsCtrl",["$scope",function(e){e.$watch(function(){return e.centuryStats},function(t){t&&e.analyzeCenturies(e.centuryStats)}),e.analyzeCenturies=function(t){var n=_.pluck(t.centuriesScored,"runs"),r=_.pluck(t.centuriesScored,"against"),a=t.halfCenturiesScored.length,i=t.centuriesScored.length,o=[];t.centuriesScored.map(function(e,t){return"won"==e.result?o[t]="#0084FF":"lost"==e.result?o[t]="#ED3F2F":"tied"==e.result?o[t]="#DFF8EB":o[t]="#DDB967",o});var s=_.filter(t.centuriesScored,function(e){return"won"==e.result}),l=_.filter(t.centuriesScored,function(e){return"2nd"==e.innings}),u=_.filter(l,function(e){return"won"==e.result}),c=_.filter(l,function(e){return"lost"===e.result}),p=_.filter(l,function(e){return"tied"===e.result}),g=_.filter(l,function(e){return"n/r"===e.result}),h=[];t.centuriesScored.map(function(e){var t=e.against,n={score:e.runs};return"undefined"==typeof h[t]&&(h[t]=[]),h[t].push(n)});var d=[];t.centuriesScored.map(function(e){var t=e.year,n={score:e.runs};return"undefined"==typeof d[t]&&(d[t]=[]),d[t].push(n)});var f=[];t.halfCenturiesScored.map(function(e){var t=e.year,n={score:e.runs};return"undefined"==typeof f[t]&&(f[t]=[]),f[t].push(n)}),e.winningRatio=10*(s.length/t.centuriesScored.length).toFixed(2),e.prepareBarGraph(n,r,o),e.prepareBarGraphAgainstTeam(h),e.prepareLineGraph(d,f),e.prepareDoughnutChart(u.length,c.length,p.length,g.length),e.prepareConversionRatePieChart(a,i)},e.prepareBarGraph=function(t,n,r){e.bardata={labels:n,datasets:[{label:"Centuries",fillColor:r,strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:t}]},e.baroptions={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1}},e.prepareBarGraphAgainstTeam=function(t){var n=[],r=[];for(var a in t)t.hasOwnProperty(a)&&(n.push(a),r.push(t[a].length));e.bardataAgainstTeam={labels:n,datasets:[{label:"Centuries",fillColor:["#0084FF"],strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]},e.baroptionsAgainstTeam={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'}},e.prepareLineGraph=function(t,n){var r=[],a=[];for(var i in t)t.hasOwnProperty(i)&&(r.push(i),a.push(t[i].length));var o=[],s=[];for(var l in n)n.hasOwnProperty(l)&&(o.push(l),s.push(n[l].length));var u=_.filter(r,function(e){return o.indexOf(e)<0}),c=_.filter(o,function(e){return r.indexOf(e)<0}),p=_.union(r,o).sort(),g=u.map(function(e){return p.indexOf(e)}),h=c.map(function(e){return p.indexOf(e)});h.map(function(e){return a.splice(e,0,0)}),g.map(function(e){return s.splice(e,0,0)}),e.lineData={labels:p,datasets:[{label:"Half Centuries over the years",fillColor:["rgba(0,132,255,0.4)"],strokeColor:"rgba(0,132,255,0.4)",pointColor:"rgba(0,132,255,0.4)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:s},{label:"Centuries",fillColor:["rgba(220,220,220,0.6)"],strokeColor:"rgba(220,220,220,0.6)",pointColor:"rgba(220,220,220,0.6)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:a}]},e.lineOptions={responsive:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,onAnimationProgress:function(){},onAnimationComplete:function(){},legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'}},e.prepareDoughnutChart=function(t,n,r,a){e.resources=[{value:t,color:"#FFFF00",highlight:"#e5e500",label:"India Won"},{value:n,color:"#46BFBD",highlight:"#5AD3D1",label:"India Lost"},{value:r,color:"#F7464A",highlight:"#FF5A5E",label:"Match Tied"},{value:a,color:"#F7464A",highlight:"#EF5A5E",label:"No Result"}],e.options={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}},e.prepareConversionRatePieChart=function(t,n){e.conversionData=[{value:t,color:"#F7464A",highlight:"#FF5A5E",label:"Half Centuries"},{value:n,color:"#FDB45C",highlight:"#FFC870",label:"Centuries"}],e.conversionOptions={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}}}]),angular.module("app").controller("runsStatsCtrl",["$scope",function(e){e.$watch(function(){return e.runsStats},function(t){t&&e.analyzeInnings(e.runsStats)}),e.analyzeInnings=function(t){var n=[],r=[],a=0,i=0,o=0,s=0;t.allInnings.map(function(e){"1st"==e.innings?(a++,o+=e.runs):(i++,s+=e.runs);var t=e.year,l=e.against;return"undefined"==typeof n[t]&&(n[t]=[]),"number"==typeof n[t]?n[t]+=parseInt(e.runs):n[t]=parseInt(e.runs),"undefined"==typeof r[l]&&(r[l]=[]),"number"==typeof r[l]?r[l]+=parseInt(e.runs):r[l]=parseInt(e.runs)}),e.prepareRunsByYearGraph(n),e.prepareRunsByTeamGraph(r),e.prepareRunsByInningsGraph(o,s),e.prepareAverageByInningsGraph(o,a,t.firstInningsNotouts,s,i,t.secondInningsNotouts)},e.prepareRunsByYearGraph=function(t){var n=[],r=[];for(var a in t)t.hasOwnProperty(a)&&(n.push(a),r.push(t[a]));var i=[];r.map(function(e,t){return e>=1e3?i[t]="#FFFF00":i[t]="#0084FF"}),e.yearBardata={labels:n,datasets:[{label:"Runs Over the years",fillColor:i,strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]},e.yearBaroptions={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'}},e.prepareRunsByTeamGraph=function(t){var n=[],r=[];for(var a in t)t.hasOwnProperty(a)&&(n.push(a),r.push(t[a]));e.teamBardata={labels:n,datasets:[{label:"Runs Over the years",fillColor:["#0084FF"],strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]},e.teamBaroptions={responsive:!0,scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'}},e.prepareRunsByInningsGraph=function(t,n){e.inniningsRunsresources=[{value:t,color:"#FFFF00",highlight:"#e5e500",label:"First Innings"},{value:n,color:"#46BFBD",highlight:"#5AD3D1",label:"Second Innings"}],e.inniningsRunsoptions={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}},e.prepareAverageByInningsGraph=function(t,n,r,a,i,o){var s=t/(n-r),l=a/(i-o);e.averageData=[{value:s.toFixed(2),color:"#F7464A",highlight:"#FF5A5E",label:"Average in First Innings"},{value:l.toFixed(2),color:"#FDB45C",highlight:"#FFC870",label:"Average in Second Innings"}],e.averageOptions={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlcy5qcyIsImNvbnRyb2xsZXJzL2hvbWVDdHJsLmpzIiwiY29udHJvbGxlcnMvbWFzdGVyQ3RybC5qcyIsInNlcnZpY2VzL2RhdGFNdXRhdG9yLmpzIiwiZGlyZWN0aXZlcy9jYXJlZXJTdGF0cy5qcyIsImRpcmVjdGl2ZXMvY2VudHVyeVN0YXRzLmpzIiwiZGlyZWN0aXZlcy9kcmF3Q29uY2x1c2lvbi5qcyIsImRpcmVjdGl2ZXMvbGVnZW5kcy5qcyIsImRpcmVjdGl2ZXMvcGVyc29uYWxJbmZvLmpzIiwiZGlyZWN0aXZlcy9ydW5zU3RhdHMuanMiLCJjb250cm9sbGVycy9wYXJ0aWFscy9jZW50dXJ5U3RhdHNDdHJsLmpzIiwiY29udHJvbGxlcnMvcGFydGlhbHMvcnVuc1N0YXRzQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnQiLCJjb250cm9sbGVyIiwiY29udGVudEAiLCJodG1sNU1vZGUiLCIkc2NvcGUiLCIkaHR0cCIsImRhdGFNdXRhdG9yIiwic2V0dXAiLCJnZXREYXRhIiwidGhlbiIsInJlc3BvbnNlIiwiY3N2VG9KU09OIiwiZGF0YSIsImpzb24iLCJnZXRDYXJlZXJTdGF0cyIsInN0YXRzIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaW5mbyIsInNlcnZpY2UiLCJnZXQiLCJjc3YiLCJjYWxsYmFjayIsImxpbmVzIiwic3BsaXQiLCJyZXN1bHQiLCJoZWFkZXJzIiwiaSIsImxlbmd0aCIsIm9iaiIsImN1cnJlbnRsaW5lIiwiaiIsInB1c2giLCJ0b3RhbE1hdGNoZXMiLCJ0b3RhbFJ1bnMiLCJjZW50dXJpZXNTY29yZWQiLCJoYWxmQ2VudHVyaWVzU2NvcmVkIiwiYWxsSW5uaW5ncyIsIm5vdE91dHMiLCJkaWROb3RCYXQiLCJ3aWNrZXRzVGFrZW4iLCJydW5zQ29uY2VkZWQiLCJjYXRjaGVzIiwiZmlyc3RJbm5pbmdzTm90b3V0cyIsInNlY29uZElubmluZ3NOb3RvdXRzIiwiZm9yRWFjaCIsInZhbHVlIiwiaW5uaW5nc0RldGFpbCIsImNlbnR1cnlEZXRhaWwiLCJoYWxmQ2VudHVyeURldGFpbCIsImJhdHRpbmdfc2NvcmUiLCJpbmRleE9mIiwiYmF0dGluZ19pbm5pbmdzIiwicmVwbGFjZSIsImlzTmFOIiwicGFyc2VJbnQiLCJydW5zIiwiYWdhaW5zdCIsIm9wcG9zaXRpb24iLCJtYXRjaF9yZXN1bHQiLCJpbm5pbmdzIiwieWVhciIsIkRhdGUiLCJwYXJzZSIsImRhdGUiLCJnZXRGdWxsWWVhciIsIndpY2tldHMiLCJydW5zX2NvbmNlZGVkIiwidG90YWxJbm5pbmdzIiwiaGlnaGVzdFNjb3JlIiwiTWF0aCIsIm1heCIsImFwcGx5IiwibWFwIiwiaW5kZXgiLCJiYXR0aW5nQXZlcmFnZSIsInRvRml4ZWQiLCJib3dsaW5nQXZlcmFnZSIsImFsbENlbnR1cmllcyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJjZW50dXJ5U3RhdHMiLCJkZXNjcmlwdGlvbiIsImNvbG9yIiwicnVuc1N0YXRzIiwiJHdhdGNoIiwibiIsImFuYWx5emVDZW50dXJpZXMiLCJzY29yZXMiLCJfIiwicGx1Y2siLCJ0b3RhbEZpZnRpZXMiLCJ0b3RhbEh1bmRyZWRzIiwiY29sb3JzIiwicmVzIiwia2V5Iiwid29uIiwiZmlsdGVyIiwiY2VudCIsImNoYXNpbmdDZW50dXJpZXMiLCJ3aW5jaGFzaW5nQ2VudHVyaWVzIiwibG9zdGNoYXNpbmdDZW50dXJpZXMiLCJ0aWVkY2hhc2luZ0NlbnR1cmllcyIsIm5vcmVzdWx0Y2hhc2luZ0NlbnR1cmllcyIsImNlbnR1cnlBZ2FpbnN0VGVhbXMiLCJ0ZWFtIiwiY2VudHVyeSIsInNjb3JlIiwiY2VudHVyeUJ5WWVhciIsImhhbGZDZW50dXJ5QnlZZWFyIiwiaGFsZkNlbnR1cnkiLCJ3aW5uaW5nUmF0aW8iLCJwcmVwYXJlQmFyR3JhcGgiLCJwcmVwYXJlQmFyR3JhcGhBZ2FpbnN0VGVhbSIsInByZXBhcmVMaW5lR3JhcGgiLCJwcmVwYXJlRG91Z2hudXRDaGFydCIsInByZXBhcmVDb252ZXJzaW9uUmF0ZVBpZUNoYXJ0IiwiYmFyZGF0YSIsImxhYmVscyIsImRhdGFzZXRzIiwibGFiZWwiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInBvaW50Q29sb3IiLCJwb2ludFN0cm9rZUNvbG9yIiwicG9pbnRIaWdobGlnaHRGaWxsIiwicG9pbnRIaWdobGlnaHRTdHJva2UiLCJiYXJvcHRpb25zIiwicmVzcG9uc2l2ZSIsInNjYWxlQmVnaW5BdFplcm8iLCJzY2FsZVNob3dHcmlkTGluZXMiLCJzY2FsZUdyaWRMaW5lQ29sb3IiLCJzY2FsZUdyaWRMaW5lV2lkdGgiLCJiYXJTaG93U3Ryb2tlIiwiYmFyU3Ryb2tlV2lkdGgiLCJiYXJWYWx1ZVNwYWNpbmciLCJiYXJEYXRhc2V0U3BhY2luZyIsImFnYWluc3RGb3JDZW50dXJpZXMiLCJudW1iZXJPZkNlbnR1cmllcyIsImNlbnR1cnlLZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImJhcmRhdGFBZ2FpbnN0VGVhbSIsImJhcm9wdGlvbnNBZ2FpbnN0VGVhbSIsImxlZ2VuZFRlbXBsYXRlIiwieWVhck9mY2VudHVyaWVzIiwieWVhck9maGFsZkNlbnR1cmllcyIsIm51bWJlck9mSGFsZkNlbnR1cmllcyIsInllYXJXaXRoTm9IYWxmQ2VudHVyeSIsImVsIiwieWVhcldpdGhOb0NlbnR1cnkiLCJhbGxZZWFyc0ZvckRhdGEiLCJ1bmlvbiIsInNvcnQiLCJpbmRleE9mTm9IYWxmY2VudHVyeSIsImluZGV4T2ZOb0NlbnR1cnkiLCJzcGxpY2UiLCJsaW5lRGF0YSIsImxpbmVPcHRpb25zIiwiYmV6aWVyQ3VydmUiLCJiZXppZXJDdXJ2ZVRlbnNpb24iLCJwb2ludERvdCIsInBvaW50RG90UmFkaXVzIiwicG9pbnREb3RTdHJva2VXaWR0aCIsInBvaW50SGl0RGV0ZWN0aW9uUmFkaXVzIiwiZGF0YXNldFN0cm9rZSIsImRhdGFzZXRTdHJva2VXaWR0aCIsImRhdGFzZXRGaWxsIiwib25BbmltYXRpb25Qcm9ncmVzcyIsIm9uQW5pbWF0aW9uQ29tcGxldGUiLCJsb3N0IiwidGllZCIsIm5vcmVzdWx0IiwicmVzb3VyY2VzIiwiaGlnaGxpZ2h0Iiwib3B0aW9ucyIsInNlZ21lbnRTaG93U3Ryb2tlIiwic2VnbWVudFN0cm9rZUNvbG9yIiwic2VnbWVudFN0cm9rZVdpZHRoIiwicGVyY2VudGFnZUlubmVyQ3V0b3V0IiwiYW5pbWF0aW9uU3RlcHMiLCJhbmltYXRpb25FYXNpbmciLCJhbmltYXRlUm90YXRlIiwiYW5pbWF0ZVNjYWxlIiwiZmlmdHkiLCJodW5kcmVkIiwiY29udmVyc2lvbkRhdGEiLCJjb252ZXJzaW9uT3B0aW9ucyIsImFuYWx5emVJbm5pbmdzIiwicnVuc0J5WWVhciIsInJ1bnNBZ2FpbnN0VGVhbXMiLCJmaXJzdElubmluZ3MiLCJzZWNvbmRJbm5pbmdzIiwicnVuc0ZpcnN0SW5uaW5ncyIsInJ1bnNTZWNvbmRJbm5pbmdzIiwicHJlcGFyZVJ1bnNCeVllYXJHcmFwaCIsInByZXBhcmVSdW5zQnlUZWFtR3JhcGgiLCJwcmVwYXJlUnVuc0J5SW5uaW5nc0dyYXBoIiwicHJlcGFyZUF2ZXJhZ2VCeUlubmluZ3NHcmFwaCIsInllYXJzIiwieWVhckJhcmRhdGEiLCJ5ZWFyQmFyb3B0aW9ucyIsInRlYW1zIiwidGVhbUJhcmRhdGEiLCJ0ZWFtQmFyb3B0aW9ucyIsImlubmluaW5nc1J1bnNyZXNvdXJjZXMiLCJpbm5pbmluZ3NSdW5zb3B0aW9ucyIsImZpcnN0SW5uaW5nc0F2ZXJhZ2UiLCJzZWNvbmRJbm5pbmdzQXZlcmFnZSIsImF2ZXJhZ2VEYXRhIiwiYXZlcmFnZU9wdGlvbnMiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsVUFBQSxZQUFBLGVDREFELFFB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QUdBQyxtQkFBQSxFQUdBQyxzQkFBQSxHQUdBQyxlQUFBLElBR0FDLGdCQUFBLGdCQUdBQyxlQUFBLEVBR0FDLGNBQUEsRUFHQXZDLGVBQUEsd05BTUE3SSxFQUFBbU0sNkJBQUEsU0FBQUwsRUFBQUYsRUFBQXBKLEVBQUF1SixFQUFBRixFQUFBcEosR0FDQSxHQUFBbUssR0FBQWQsR0FBQUYsRUFBQXBKLEdBQ0FxSyxFQUFBZCxHQUFBRixFQUFBcEosRUFFQXpDLEdBQUE4TSxjQUVBbkssTUFBQWlLLEVBQUFuSSxRQUFBLEdBQ0FRLE1BQUEsVUFDQTBGLFVBQUEsVUFDQXJELE1BQUEsNkJBR0EzRSxNQUFBa0ssRUFBQXBJLFFBQUEsR0FDQVEsTUFBQSxVQUNBMEYsVUFBQSxVQUNBckQsTUFBQSw4QkFLQXRILEVBQUErTSxnQkFHQWpGLFlBQUEsRUFHQStDLG1CQUFBLEVBR0FDLG1CQUFBLE9BR0FDLG1CQUFBLEVBR0FDLHNCQUFBLEVBR0FDLGVBQUEsSUFHQUMsZ0JBQUEsZ0JBR0FDLGVBQUEsRUFHQUMsY0FBQSxFQUdBdkMsZUFBQSIsImZpbGUiOiJhcHAuYnVpbHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJyxbXG4gICduZ1JvdXRlJywndWkucm91dGVyJywndGMuY2hhcnRqcydcbl0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICAgICAnaGVhZGVyJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbmF2Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2hvbWUuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUN0cmwnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG5cblxuICAgICAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuICAgICAgICAgICAgdXJsOiAnaG9tZScsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd1c2Vycy9ob21lLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUN0cmwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cblxuXG5cbiAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpXG5cbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5jb250cm9sbGVyKCdob21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsIGRhdGFNdXRhdG9yKSB7XG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIGdldCB0aGUgY3N2IGRhdGEgZnJvbSBkYXRhTXV0YXRvciBzZXJ2aWNlXG4gICAgICAgICAgZGF0YU11dGF0b3IuZ2V0RGF0YSgpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBjc3YgZGF0YSB0byBKU09OXG4gICAgICAgICAgICAgICAgZGF0YU11dGF0b3IuY3N2VG9KU09OKHJlc3BvbnNlLmRhdGEsIGZ1bmN0aW9uKGpzb24pe1xuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHRoZSBjb252ZXJ0ZWQgSlNPTiBkYXRhIHRvIGdldENhcmVlclN0YXRzIGZ1bmN0aW9uIGZvciBtYW5pcHVsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgZGF0YU11dGF0b3IuZ2V0Q2FyZWVyU3RhdHMoanNvbiwgZnVuY3Rpb24oc3RhdHMpe1xuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0cyA9IHN0YXRzXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuc2V0dXAoKTtcbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ21hc3RlckN0cmwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gbWFpbiBjb250cm9sbGVyIGJpbmRlZCB0byBib2R5IG9mIHRoZSBhcHAsIGFjdGlvbnMgcmVxdWlyZWQgYXQgZ2xvYmFsIGxldmVsIGNhbiBiZSBkb25lIGhlcmVcbiAgICAgICAgY29uc29sZS5pbmZvKFwiQXBwIExvYWRlZFwiKTtcbiAgICB9KVxuIiwiLy8gZGF0YU11dGF0b3IgU2VydmljZVxuLy8gVGhpcyBpcyB0aGUgc2VydmljZSB3aGljaCBkb2VzIHRocmVlIHByaW1hcnkgYWN0aW9uc1xuLy8gMS4gR2V0IGRhdGEgdGhyb3VnaCAkaHR0cCByZXF1ZXN0IGZyb20gdGhlIHNvdXJjZSAoaW4gdGhpcyBjYXNlIGZyb20gcHVibGljL2Fzc2V0cy9kYXRhL3NhY2hpbi5jc3YpXG4vLyAyLiBDb252ZXJ0IHRoZSBkYXRhIHJlY2VpdmVkIGluIGNzdiBmb3JtYXQgdG8gSlNPTiBmb3JtYXQgdG8gcGVyZm9ybSBsb2dpY2FsIG9wZXJhdGlvbnMgb24gaXRcbi8vIDMuIFByZXBhcmUgb3ZlcmFsbCBjYXJlZXIgc3RhdHMgYW5kIGlucHV0cyBmb3IgYWxsQ2VudHVyaWVzIGFuZCBhbGxJbm5pbmdzIHdoaWNoIGNhbiBiZSBmdXJ0aGVyXG4vLyAgICBtYW5pcHVsYXRlZCBpbiB0aGVpciByZXNwZWN0aXZlIGNvbnRyb2xsZXJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5zZXJ2aWNlKCdkYXRhTXV0YXRvcicsIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldERhdGE6IGdldERhdGEsXG4gICAgICAgICAgICBjc3ZUb0pTT046IGNzdlRvSlNPTixcbiAgICAgICAgICAgIGdldENhcmVlclN0YXRzOiBnZXRDYXJlZXJTdGF0c1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9kYXRhL3NhY2hpbi5jc3YnKVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3N2VG9KU09OKGNzdiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBsaW5lcz1jc3Yuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICB2YXIgaGVhZGVycz1saW5lc1swXS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBmb3IodmFyIGk9MTtpPGxpbmVzLmxlbmd0aCAtMTtpKyspe1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudGxpbmU9bGluZXNbaV0uc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0wO2o8aGVhZGVycy5sZW5ndGg7aisrKXtcbiAgICAgICAgICAgICAgICAgIG9ialtoZWFkZXJzW2pdXSA9IGN1cnJlbnRsaW5lW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY2FsbGJhY2sgJiYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2FyZWVyU3RhdHMoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciB0b3RhbE1hdGNoZXMgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB0b3RhbFJ1bnMgPSAwO1xuICAgICAgICAgICAgdmFyIGNlbnR1cmllc1Njb3JlZCA9IFtdO1xuICAgICAgICAgICAgdmFyIGhhbGZDZW50dXJpZXNTY29yZWQgPSBbXTtcbiAgICAgICAgICAgIHZhciBhbGxJbm5pbmdzID0gW107XG4gICAgICAgICAgICB2YXIgbm90T3V0cyA9IDA7XG4gICAgICAgICAgICB2YXIgZGlkTm90QmF0ID0gMDtcbiAgICAgICAgICAgIHZhciB3aWNrZXRzVGFrZW4gPSAwO1xuICAgICAgICAgICAgdmFyIHJ1bnNDb25jZWRlZCA9IDA7XG4gICAgICAgICAgICB2YXIgY2F0Y2hlcyA9IDA7XG4gICAgICAgICAgICB2YXIgZmlyc3RJbm5pbmdzTm90b3V0cyA9IDA7XG4gICAgICAgICAgICB2YXIgc2Vjb25kSW5uaW5nc05vdG91dHMgPSAwO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBpbm5pbmdzRGV0YWlsID0ge307XG4gICAgICAgICAgICAgIHZhciBjZW50dXJ5RGV0YWlsID0ge307XG4gICAgICAgICAgICAgIHZhciBoYWxmQ2VudHVyeURldGFpbCA9IHt9O1xuXG4gICAgICAgICAgICAgIC8vQmF0dGluZyBzdGF0c1xuXG4gICAgICAgICAgICAgIC8vY2hlY2sgdG8gc2VlIGlmIHRoZSBzY29yZSBjb250YWlucyBhICcqJycgaW4gdGhlIGVuZCB3aGljaCBkZW50b2VzIE5vdE91dHMsIGlmIHllcyByZW1vdmUgZm9yIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgICBpZih2YWx1ZS5iYXR0aW5nX3Njb3JlLmluZGV4T2YoXCIqXCIpID4gLTEpe1xuICAgICAgICAgICAgICAgIGlmKHZhbHVlLmJhdHRpbmdfaW5uaW5ncyA9PSBcIjFzdFwiKXtcbiAgICAgICAgICAgICAgICAgIGZpcnN0SW5uaW5nc05vdG91dHMrKztcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIHNlY29uZElubmluZ3NOb3RvdXRzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlLmJhdHRpbmdfc2NvcmUgPSB2YWx1ZS5iYXR0aW5nX3Njb3JlLnJlcGxhY2UoJyonLCcnKTtcbiAgICAgICAgICAgICAgICBub3RPdXRzKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy9pZiB0aGUgdmFsdWUgb2Ygc2NvcmUgaXMgTm90IGEgbnVtYmVyICwgaXQgbWVhbnMgaXQgY291bGQgYmUgRE5CKGRpZCBub3QgYmF0KSBvciBURE5CICh0ZWFtIGRpZCBub3QgYmF0KVxuICAgICAgICAgICAgICBpZihpc05hTih2YWx1ZS5iYXR0aW5nX3Njb3JlKSl7XG4gICAgICAgICAgICAgICAgZGlkTm90QmF0Kys7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vQ29udmVydGluZyB0aGUgc3RyaW5nIHRvIGludGVnZXJzIHRvIGRvIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgICAgIHZhbHVlLmJhdHRpbmdfc2NvcmUgPSBwYXJzZUludCh2YWx1ZS5iYXR0aW5nX3Njb3JlKVxuICAgICAgICAgICAgICAgIC8vR2V0dGluZyBhbGwgaW5uaW5ncyBydW5zXG4gICAgICAgICAgICAgICAgaW5uaW5nc0RldGFpbC5ydW5zID0gdmFsdWUuYmF0dGluZ19zY29yZVxuICAgICAgICAgICAgICAgIGlubmluZ3NEZXRhaWwuYWdhaW5zdCA9IHZhbHVlLm9wcG9zaXRpb25cbiAgICAgICAgICAgICAgICBpbm5pbmdzRGV0YWlsLnJlc3VsdCA9IHZhbHVlLm1hdGNoX3Jlc3VsdFxuICAgICAgICAgICAgICAgIGlubmluZ3NEZXRhaWwuaW5uaW5ncyA9IHZhbHVlLmJhdHRpbmdfaW5uaW5nc1xuICAgICAgICAgICAgICAgIGlubmluZ3NEZXRhaWwueWVhciA9IChuZXcgRGF0ZShEYXRlLnBhcnNlKHZhbHVlLmRhdGUpKSkuZ2V0RnVsbFllYXIoKVxuICAgICAgICAgICAgICAgIGFsbElubmluZ3MucHVzaChpbm5pbmdzRGV0YWlsKVxuXG5cbiAgICAgICAgICAgICAgICAvL0NoZWNraW5nIHRvIHNlZSBpZiB0aGUgc2NvcmUgd2FzIGEgaGFsZiBjZW50dXJ5IG9yIGNlbnR1cnlcbiAgICAgICAgICAgICAgICBpZih2YWx1ZS5iYXR0aW5nX3Njb3JlID49IDUwICYmIHZhbHVlLmJhdHRpbmdfc2NvcmUgPCAxMDApe1xuICAgICAgICAgICAgICAgICAgaGFsZkNlbnR1cnlEZXRhaWwucnVucyA9IHZhbHVlLmJhdHRpbmdfc2NvcmVcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJ5RGV0YWlsLmFnYWluc3QgPSB2YWx1ZS5vcHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICBoYWxmQ2VudHVyeURldGFpbC5yZXN1bHQgPSB2YWx1ZS5tYXRjaF9yZXN1bHRcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJ5RGV0YWlsLmlubmluZ3MgPSB2YWx1ZS5iYXR0aW5nX2lubmluZ3NcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJ5RGV0YWlsLnllYXIgPSAobmV3IERhdGUoRGF0ZS5wYXJzZSh2YWx1ZS5kYXRlKSkpLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJpZXNTY29yZWQucHVzaChoYWxmQ2VudHVyeURldGFpbClcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih2YWx1ZS5iYXR0aW5nX3Njb3JlID49IDEwMCl7XG4gICAgICAgICAgICAgICAgICBjZW50dXJ5RGV0YWlsLnJ1bnMgPSB2YWx1ZS5iYXR0aW5nX3Njb3JlXG4gICAgICAgICAgICAgICAgICBjZW50dXJ5RGV0YWlsLmFnYWluc3QgPSB2YWx1ZS5vcHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICBjZW50dXJ5RGV0YWlsLnJlc3VsdCA9IHZhbHVlLm1hdGNoX3Jlc3VsdFxuICAgICAgICAgICAgICAgICAgY2VudHVyeURldGFpbC5pbm5pbmdzID0gdmFsdWUuYmF0dGluZ19pbm5pbmdzXG4gICAgICAgICAgICAgICAgICBjZW50dXJ5RGV0YWlsLnllYXIgPSAobmV3IERhdGUoRGF0ZS5wYXJzZSh2YWx1ZS5kYXRlKSkpLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICAgICAgICAgIGNlbnR1cmllc1Njb3JlZC5wdXNoKGNlbnR1cnlEZXRhaWwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vU2F2aW5nIHRvdGFsIHJ1bnNcbiAgICAgICAgICAgICAgICB0b3RhbFJ1bnMgKz0gdmFsdWUuYmF0dGluZ19zY29yZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vQm93bGluZyBzdGF0c1xuICAgICAgICAgICAgICBpZighaXNOYU4odmFsdWUud2lja2V0cykgJiYgcGFyc2VJbnQodmFsdWUud2lja2V0cykgPiAwKXtcbiAgICAgICAgICAgICAgICB2YWx1ZS53aWNrZXRzID0gcGFyc2VJbnQodmFsdWUud2lja2V0cylcbiAgICAgICAgICAgICAgICB3aWNrZXRzVGFrZW4gKz0gdmFsdWUud2lja2V0c1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKCFpc05hTih2YWx1ZS5jYXRjaGVzKSAmJiBwYXJzZUludCh2YWx1ZS5jYXRjaGVzKSA+IDApe1xuICAgICAgICAgICAgICAgIHZhbHVlLmNhdGNoZXMgPSBwYXJzZUludCh2YWx1ZS5jYXRjaGVzKVxuICAgICAgICAgICAgICAgIGNhdGNoZXMgKz0gdmFsdWUuY2F0Y2hlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKCFpc05hTih2YWx1ZS5ydW5zX2NvbmNlZGVkKSl7XG4gICAgICAgICAgICAgICAgdmFsdWUucnVuc19jb25jZWRlZCA9IHBhcnNlSW50KHZhbHVlLnJ1bnNfY29uY2VkZWQpXG4gICAgICAgICAgICAgICAgcnVuc0NvbmNlZGVkICs9IHZhbHVlLnJ1bnNfY29uY2VkZWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIHRvdGFsSW5uaW5ncyA9IHRvdGFsTWF0Y2hlcyAtIGRpZE5vdEJhdFxuICAgICAgICAgIHZhciBzdGF0cyA9IHtcbiAgICAgICAgICAgIHRvdGFsTWF0Y2hlcyA6IHRvdGFsTWF0Y2hlcyxcbiAgICAgICAgICAgIHRvdGFsUnVuczogdG90YWxSdW5zLFxuICAgICAgICAgICAgaGFsZkNlbnR1cmllc1Njb3JlZDogaGFsZkNlbnR1cmllc1Njb3JlZC5sZW5ndGgsXG4gICAgICAgICAgICBjZW50dXJpZXNTY29yZWQ6IGNlbnR1cmllc1Njb3JlZC5sZW5ndGgsXG4gICAgICAgICAgICBoaWdoZXN0U2NvcmU6ICBNYXRoLm1heC5hcHBseShudWxsLGNlbnR1cmllc1Njb3JlZC5tYXAoZnVuY3Rpb24oaW5kZXgpe3JldHVybiBpbmRleC5ydW5zfSkpLFxuICAgICAgICAgICAgbm90T3V0czogbm90T3V0cyxcbiAgICAgICAgICAgIHRvdGFsSW5uaW5nczogdG90YWxJbm5pbmdzLFxuICAgICAgICAgICAgYmF0dGluZ0F2ZXJhZ2U6ICh0b3RhbFJ1bnMgLyAodG90YWxJbm5pbmdzIC0gbm90T3V0cykpLnRvRml4ZWQoMiksXG4gICAgICAgICAgICB3aWNrZXRzVGFrZW46IHdpY2tldHNUYWtlbixcbiAgICAgICAgICAgIHJ1bnNDb25jZWRlZDogcnVuc0NvbmNlZGVkLFxuICAgICAgICAgICAgYm93bGluZ0F2ZXJhZ2U6IChydW5zQ29uY2VkZWQgLyB3aWNrZXRzVGFrZW4pLnRvRml4ZWQoMiksXG4gICAgICAgICAgICBjYXRjaGVzOiBjYXRjaGVzLFxuICAgICAgICAgICAgLy9zZW5kIGFsbENlbnR1cmllcyBhcyBhbiBvYmplY3Qgd2l0aCByZXF1aXJlZCBpbmZvcm1hdGlvbiBmb3IgY2FsY3VsYXRpb25zIGluIGNlbnR1cnlTdGF0c0N0cmxcbiAgICAgICAgICAgIGFsbENlbnR1cmllczoge1xuICAgICAgICAgICAgICBcImNlbnR1cmllc1Njb3JlZFwiOmNlbnR1cmllc1Njb3JlZCxcbiAgICAgICAgICAgICAgXCJoYWxmQ2VudHVyaWVzU2NvcmVkXCI6aGFsZkNlbnR1cmllc1Njb3JlZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vc2VuZCBhbGxJbm5pbmdzIGFzIGFuIG9iamVjdCB3aXRoIHJlcXVpcmVkIGluZm9ybWF0aW9uIGZvciBjYWxjdWxhdGlvbnMgaW4gcnVuc1N0YXRzQ3RybFxuICAgICAgICAgICAgYWxsSW5uaW5nczoge1xuICAgICAgICAgICAgICBcImFsbElubmluZ3NcIjphbGxJbm5pbmdzLFxuICAgICAgICAgICAgICBcImZpcnN0SW5uaW5nc05vdG91dHNcIjpmaXJzdElubmluZ3NOb3RvdXRzLFxuICAgICAgICAgICAgICBcInNlY29uZElubmluZ3NOb3RvdXRzXCI6c2Vjb25kSW5uaW5nc05vdG91dHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmKGNhbGxiYWNrICYmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhzdGF0cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGF0c1xuICAgICAgICB9XG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuZGlyZWN0aXZlKCdjYXJlZXJTdGF0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBzdGF0czogJz1pdGVtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2NhcmVlclN0YXRzLmh0bWwnXG4gICAgICAgIH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnY2VudHVyeVN0YXRzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGNlbnR1cnlTdGF0czogJz1pdGVtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2NlbnR1cnlTdGF0cy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjZW50dXJ5U3RhdHNDdHJsJ1xuICAgICAgICB9XG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5kaXJlY3RpdmUoJ2RyYXdDb25jbHVzaW9uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2RyYXdDb25jbHVzaW9uLmh0bWwnXG4gICAgICAgIH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgnbGVnZW5kcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdAJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ0AnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9sZWdlbmRzLmh0bWwnXG4gICAgICAgIH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmRpcmVjdGl2ZSgncGVyc29uYWxJbmZvJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsICAgICAgICAgICAgXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3BlcnNvbmFsSW5mby5odG1sJ1xuICAgICAgICB9XG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5kaXJlY3RpdmUoJ3J1bnNTdGF0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBydW5zU3RhdHM6ICc9aXRlbScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ydW5zU3RhdHMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAncnVuc1N0YXRzQ3RybCdcbiAgICAgICAgfVxuICAgIH0pXG4iLCIvLyBDZW50dXJ5IFN0YXRzIGNvbnRyb2xsZXJcbi8vIFRoaXMgY29udHJvbGxlciBpcyBhdHRhY2hlZCB0byBhIGRpcmVjdGl2ZSAtIGNlbnR1cnlTdGF0c1xuLy8gYW5kIHRoZSBwdXJwb3NlIG9mIHRoaXMgY29udHJvbGxlciBpcyB0byB3b3JrIG9uIHRoZSBjZW50dXJ5U3RhdHMgcGFzc2VkIHRvIGl0cyAkc2NvcGUgdmlhIGl0cyBhdHRyaWJ1dGVcblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2NlbnR1cnlTdGF0c0N0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgIC8vIFdhdGNoIGZvciB0aGUgJHNjb3BlLmNlbnR1cnlTdGF0cyB2YXJpYWJsZSB0byBnZXQgdGhlIGRhdGEgZnJvbSBhdHRyaWJ1dGVcbiAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgcmV0dXJuICRzY29wZS5jZW50dXJ5U3RhdHM7XG4gICAgICAgICAgIH0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgIGlmKCFuKXJldHVyblxuICAgICAgICAgICAgICAgLy8gSWYgaXQgaGFzIHJlY2VpdmVkIGRhdGEgdGhlbiBzdGFydCB3b3JraW5nIG9uIEFuYWx5emluZyBDZW50dXJpZXNcbiAgICAgICAgICAgICAgICRzY29wZS5hbmFseXplQ2VudHVyaWVzKCRzY29wZS5jZW50dXJ5U3RhdHMpXG4gICAgICAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuYW5hbHl6ZUNlbnR1cmllcyA9IGZ1bmN0aW9uKGNlbnR1cnlTdGF0cyl7XG4gICAgICAgIC8vR2V0IHRoZSBydW5zIHNjb3JlZCB3aGlsZSBtYWtpbmcgYSBjZW50dXJ5XG4gICAgICAgIHZhciBzY29yZXMgPSBfLnBsdWNrKGNlbnR1cnlTdGF0cy5jZW50dXJpZXNTY29yZWQsICdydW5zJylcblxuICAgICAgICAvL0dldCB0aGUgb3Bwb25lbnRzIGFnYWluc2Ugd2hpY2ggdGhlIGNlbnR1cnkgd2FzIHNjb3JlZFxuICAgICAgICB2YXIgYWdhaW5zdCA9IF8ucGx1Y2soY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZCwgJ2FnYWluc3QnKVxuXG4gICAgICAgIC8vR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgaGFsZiBjZW50dXJpZXMgc2NvcmVkXG4gICAgICAgIHZhciB0b3RhbEZpZnRpZXMgPSBjZW50dXJ5U3RhdHMuaGFsZkNlbnR1cmllc1Njb3JlZC5sZW5ndGhcblxuICAgICAgICAvL0dldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNlbnR1cmllcyBzY29yZWRcbiAgICAgICAgdmFyIHRvdGFsSHVuZHJlZHMgPSBjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLmxlbmd0aFxuICAgICAgICAvL1NlbmQgYXJyYXkgb2YgY29sb3JzIHRvIGNoYXJ0anNcbiAgICAgICAgdmFyIGNvbG9ycyA9IFtdO1xuICAgICAgICBjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLm1hcChmdW5jdGlvbihyZXMsIGtleSl7XG4gICAgICAgICAgaWYocmVzLnJlc3VsdCA9PSBcIndvblwiKXtcbiAgICAgICAgICAgIGNvbG9yc1trZXldID0gXCIjMDA4NEZGXCJcbiAgICAgICAgICB9ZWxzZSBpZihyZXMucmVzdWx0ID09IFwibG9zdFwiKXtcbiAgICAgICAgICAgIGNvbG9yc1trZXldID0gXCIjRUQzRjJGXCJcbiAgICAgICAgICB9ZWxzZSBpZihyZXMucmVzdWx0ID09IFwidGllZFwiKXtcbiAgICAgICAgICAgIGNvbG9yc1trZXldID0gXCIjREZGOEVCXCJcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbG9yc1trZXldID0gXCIjRERCOTY3XCJcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbG9yc1xuICAgICAgICB9KVxuICAgICAgICB2YXIgd29uID0gXy5maWx0ZXIoY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZCwgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgICAgcmV0dXJuIGNlbnQucmVzdWx0ID09IFwid29uXCJcbiAgICAgICAgfSlcbiAgICAgICAgLy8gdmFyIGxvc3QgPSBfLmZpbHRlcihjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLCBmdW5jdGlvbihjZW50KXtcbiAgICAgICAgLy8gICByZXR1cm4gY2VudC5yZXN1bHQgPT09IFwibG9zdFwiXG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIHZhciB0aWVkID0gXy5maWx0ZXIoY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZCwgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgIC8vICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcInRpZWRcIlxuICAgICAgICAvLyB9KVxuICAgICAgICAvLyB2YXIgbm9yZXN1bHQgPSBfLmZpbHRlcihjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLCBmdW5jdGlvbihjZW50KXtcbiAgICAgICAgLy8gICByZXR1cm4gY2VudC5yZXN1bHQgPT09IFwibi9yXCJcbiAgICAgICAgLy8gfSlcblxuICAgICAgICAvL0NlbnR1cnkgd2hpbGUgY2hhc2luZ1xuICAgICAgICB2YXIgY2hhc2luZ0NlbnR1cmllcyA9IF8uZmlsdGVyKGNlbnR1cnlTdGF0cy5jZW50dXJpZXNTY29yZWQsIGZ1bmN0aW9uKGNlbnQpe1xuICAgICAgICAgIHJldHVybiBjZW50LmlubmluZ3MgPT0gXCIybmRcIlxuICAgICAgICB9KVxuICAgICAgICB2YXIgd2luY2hhc2luZ0NlbnR1cmllcyA9IF8uZmlsdGVyKGNoYXNpbmdDZW50dXJpZXMsIGZ1bmN0aW9uKGNlbnQpe1xuICAgICAgICAgIHJldHVybiBjZW50LnJlc3VsdCA9PSBcIndvblwiXG4gICAgICAgIH0pXG4gICAgICAgIHZhciBsb3N0Y2hhc2luZ0NlbnR1cmllcyA9IF8uZmlsdGVyKGNoYXNpbmdDZW50dXJpZXMsIGZ1bmN0aW9uKGNlbnQpe1xuICAgICAgICAgIHJldHVybiBjZW50LnJlc3VsdCA9PT0gXCJsb3N0XCJcbiAgICAgICAgfSlcbiAgICAgICAgdmFyIHRpZWRjaGFzaW5nQ2VudHVyaWVzID0gXy5maWx0ZXIoY2hhc2luZ0NlbnR1cmllcywgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcInRpZWRcIlxuICAgICAgICB9KVxuICAgICAgICB2YXIgbm9yZXN1bHRjaGFzaW5nQ2VudHVyaWVzID0gXy5maWx0ZXIoY2hhc2luZ0NlbnR1cmllcywgZnVuY3Rpb24oY2VudCl7XG4gICAgICAgICAgcmV0dXJuIGNlbnQucmVzdWx0ID09PSBcIm4vclwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy9DZW50dXJ5IGFnYWluc3QgdGVhbXNcbiAgICAgICAgdmFyIGNlbnR1cnlBZ2FpbnN0VGVhbXMgPSBbXTtcbiAgICAgICAgY2VudHVyeVN0YXRzLmNlbnR1cmllc1Njb3JlZC5tYXAoZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICB2YXIgdGVhbSA9IHJlcy5hZ2FpbnN0O1xuICAgICAgICAgIHZhciBjZW50dXJ5ID0ge1xuICAgICAgICAgICAgc2NvcmU6IHJlcy5ydW5zXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHR5cGVvZihjZW50dXJ5QWdhaW5zdFRlYW1zW3RlYW1dKSA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgY2VudHVyeUFnYWluc3RUZWFtc1t0ZWFtXSA9IFtdXG4gICAgICAgICAgcmV0dXJuIGNlbnR1cnlBZ2FpbnN0VGVhbXNbdGVhbV0ucHVzaChjZW50dXJ5KVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vQ2VudHVyeSBvdmVyIHRoZSB5ZWFyc1xuICAgICAgICB2YXIgY2VudHVyeUJ5WWVhciA9IFtdO1xuICAgICAgICBjZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIHZhciB5ZWFyID0gcmVzLnllYXI7XG4gICAgICAgICAgdmFyIGNlbnR1cnkgPSB7XG4gICAgICAgICAgICBzY29yZTogcmVzLnJ1bnNcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYodHlwZW9mKGNlbnR1cnlCeVllYXJbeWVhcl0pID09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICAgICAgICBjZW50dXJ5QnlZZWFyW3llYXJdID0gW11cbiAgICAgICAgICByZXR1cm4gY2VudHVyeUJ5WWVhclt5ZWFyXS5wdXNoKGNlbnR1cnkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdmFyIGhhbGZDZW50dXJ5QnlZZWFyID0gW107XG4gICAgICAgIGNlbnR1cnlTdGF0cy5oYWxmQ2VudHVyaWVzU2NvcmVkLm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIHZhciB5ZWFyID0gcmVzLnllYXI7XG4gICAgICAgICAgdmFyIGhhbGZDZW50dXJ5ID0ge1xuICAgICAgICAgICAgc2NvcmU6IHJlcy5ydW5zXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHR5cGVvZihoYWxmQ2VudHVyeUJ5WWVhclt5ZWFyXSkgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgICAgICAgIGhhbGZDZW50dXJ5QnlZZWFyW3llYXJdID0gW11cbiAgICAgICAgICByZXR1cm4gaGFsZkNlbnR1cnlCeVllYXJbeWVhcl0ucHVzaChoYWxmQ2VudHVyeSlcbiAgICAgICAgfSlcblxuXG4gICAgICAgICRzY29wZS53aW5uaW5nUmF0aW8gPSAod29uLmxlbmd0aC9jZW50dXJ5U3RhdHMuY2VudHVyaWVzU2NvcmVkLmxlbmd0aCkudG9GaXhlZCgyKSAqIDEwO1xuICAgICAgICAkc2NvcGUucHJlcGFyZUJhckdyYXBoKHNjb3JlcywgYWdhaW5zdCwgY29sb3JzKVxuICAgICAgICAkc2NvcGUucHJlcGFyZUJhckdyYXBoQWdhaW5zdFRlYW0oY2VudHVyeUFnYWluc3RUZWFtcylcbiAgICAgICAgJHNjb3BlLnByZXBhcmVMaW5lR3JhcGgoY2VudHVyeUJ5WWVhcixoYWxmQ2VudHVyeUJ5WWVhcik7XG4gICAgICAgICRzY29wZS5wcmVwYXJlRG91Z2hudXRDaGFydCh3aW5jaGFzaW5nQ2VudHVyaWVzLmxlbmd0aCxsb3N0Y2hhc2luZ0NlbnR1cmllcy5sZW5ndGgsdGllZGNoYXNpbmdDZW50dXJpZXMubGVuZ3RoLG5vcmVzdWx0Y2hhc2luZ0NlbnR1cmllcy5sZW5ndGgpXG4gICAgICAgICRzY29wZS5wcmVwYXJlQ29udmVyc2lvblJhdGVQaWVDaGFydCh0b3RhbEZpZnRpZXMsdG90YWxIdW5kcmVkcylcbiAgICAgIH1cblxuXG5cblxuXG5cblxuICAgICAgLy8gUHJlcGFyZSBCYXIgZ3JhcGggdG8gc2hvdyBDZW50dXJ5IGFnYWluc3QgdGVhbXMgYW5kIHRoZSBtYXRjaCByZXN1bHQgdmlhIGNvbG9yc1xuICAgICAgJHNjb3BlLnByZXBhcmVCYXJHcmFwaCA9IGZ1bmN0aW9uIChzY29yZXMsYWdhaW5zdCwgY29sb3JzKXtcbiAgICAgICAgJHNjb3BlLmJhcmRhdGEgPSB7XG4gICAgICAgICAgICAgICBsYWJlbHM6IGFnYWluc3QsXG4gICAgICAgICAgICAgICBkYXRhc2V0czogW3tcbiAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0NlbnR1cmllcycsXG4gICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBjb2xvcnMsXG4gICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludENvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0U3Ryb2tlOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgZGF0YTogc2NvcmVzXG4gICAgICAgICAgICAgICB9XVxuICAgICAgICAgICB9O1xuXG4gICAgICAgICAgIC8vIENoYXJ0LmpzIE9wdGlvbnNcbiAgICAgICAgICAgJHNjb3BlLmJhcm9wdGlvbnMgPSB7XG5cbiAgICAgICAgICAgICAgIC8vIFNldHMgdGhlIGNoYXJ0IHRvIGJlIHJlc3BvbnNpdmVcbiAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgdGhlIHNjYWxlIHNob3VsZCBzdGFydCBhdCB6ZXJvLCBvciBhbiBvcmRlciBvZiBtYWduaXR1ZGUgZG93biBmcm9tIHRoZSBsb3dlc3QgdmFsdWVcbiAgICAgICAgICAgICAgIHNjYWxlQmVnaW5BdFplcm86IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgZ3JpZCBsaW5lcyBhcmUgc2hvd24gYWNyb3NzIHRoZSBjaGFydFxuICAgICAgICAgICAgICAgc2NhbGVTaG93R3JpZExpbmVzOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIENvbG91ciBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZUNvbG9yOiBcInJnYmEoMCwwLDAsLjA1KVwiLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFdpZHRoIG9mIHRoZSBncmlkIGxpbmVzXG4gICAgICAgICAgICAgICBzY2FsZUdyaWRMaW5lV2lkdGg6IDEsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIElmIHRoZXJlIGlzIGEgc3Ryb2tlIG9uIGVhY2ggYmFyXG4gICAgICAgICAgICAgICBiYXJTaG93U3Ryb2tlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFBpeGVsIHdpZHRoIG9mIHRoZSBiYXIgc3Ryb2tlXG4gICAgICAgICAgICAgICBiYXJTdHJva2VXaWR0aDogMixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBTcGFjaW5nIGJldHdlZW4gZWFjaCBvZiB0aGUgWCB2YWx1ZSBzZXRzXG4gICAgICAgICAgICAgICBiYXJWYWx1ZVNwYWNpbmc6IDUsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGRhdGEgc2V0cyB3aXRoaW4gWCB2YWx1ZXNcbiAgICAgICAgICAgICAgIGJhckRhdGFzZXRTcGFjaW5nOiAxLFxuICAgICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUucHJlcGFyZUJhckdyYXBoQWdhaW5zdFRlYW0gPSBmdW5jdGlvbiAoY2VudHVyeUFnYWluc3RUZWFtcyl7XG4gICAgICAgIHZhciBhZ2FpbnN0Rm9yQ2VudHVyaWVzID0gW11cbiAgICAgICAgdmFyIG51bWJlck9mQ2VudHVyaWVzID0gW11cbiAgICAgICAgZm9yKHZhciBjZW50dXJ5S2V5IGluIGNlbnR1cnlBZ2FpbnN0VGVhbXMpIHtcbiAgICAgICAgICBpZihjZW50dXJ5QWdhaW5zdFRlYW1zLmhhc093blByb3BlcnR5KGNlbnR1cnlLZXkpKSB7XG4gICAgICAgICAgICBhZ2FpbnN0Rm9yQ2VudHVyaWVzLnB1c2goY2VudHVyeUtleSk7XG4gICAgICAgICAgICBudW1iZXJPZkNlbnR1cmllcy5wdXNoKGNlbnR1cnlBZ2FpbnN0VGVhbXNbY2VudHVyeUtleV0ubGVuZ3RoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuYmFyZGF0YUFnYWluc3RUZWFtID0ge1xuICAgICAgICAgICAgICAgbGFiZWxzOiBhZ2FpbnN0Rm9yQ2VudHVyaWVzLFxuICAgICAgICAgICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDZW50dXJpZXMnLFxuICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogWycjMDA4NEZGJ10sXG4gICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludENvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0U3Ryb2tlOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgZGF0YTogbnVtYmVyT2ZDZW50dXJpZXNcbiAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgIH07XG5cbiAgICAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAgICAkc2NvcGUuYmFyb3B0aW9uc0FnYWluc3RUZWFtID0ge1xuXG4gICAgICAgICAgICAgICAvLyBTZXRzIHRoZSBjaGFydCB0byBiZSByZXNwb25zaXZlXG4gICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHRoZSBzY2FsZSBzaG91bGQgc3RhcnQgYXQgemVybywgb3IgYW4gb3JkZXIgb2YgbWFnbml0dWRlIGRvd24gZnJvbSB0aGUgbG93ZXN0IHZhbHVlXG4gICAgICAgICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIGdyaWQgbGluZXMgYXJlIHNob3duIGFjcm9zcyB0aGUgY2hhcnRcbiAgICAgICAgICAgICAgIHNjYWxlU2hvd0dyaWRMaW5lczogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBDb2xvdXIgb2YgdGhlIGdyaWQgbGluZXNcbiAgICAgICAgICAgICAgIHNjYWxlR3JpZExpbmVDb2xvcjogXCJyZ2JhKDAsMCwwLC4wNSlcIixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBXaWR0aCBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZVdpZHRoOiAxLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBJZiB0aGVyZSBpcyBhIHN0cm9rZSBvbiBlYWNoIGJhclxuICAgICAgICAgICAgICAgYmFyU2hvd1N0cm9rZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBQaXhlbCB3aWR0aCBvZiB0aGUgYmFyIHN0cm9rZVxuICAgICAgICAgICAgICAgYmFyU3Ryb2tlV2lkdGg6IDIsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGVhY2ggb2YgdGhlIFggdmFsdWUgc2V0c1xuICAgICAgICAgICAgICAgYmFyVmFsdWVTcGFjaW5nOiA1LFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFNwYWNpbmcgYmV0d2VlbiBkYXRhIHNldHMgd2l0aGluIFggdmFsdWVzXG4gICAgICAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZzogMSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBBIGxlZ2VuZCB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgbGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCJ0Yy1jaGFydC1qcy1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8ZGF0YXNldHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1kYXRhc2V0c1tpXS5maWxsQ29sb3IlPlwiPjwvc3Bhbj48JWlmKGRhdGFzZXRzW2ldLmxhYmVsKXslPjwlPWRhdGFzZXRzW2ldLmxhYmVsJT48JX0lPjwvbGk+PCV9JT48L3VsPidcbiAgICAgICAgICAgfTtcbiAgICAgIH1cblxuXG4gICAgICAkc2NvcGUucHJlcGFyZUxpbmVHcmFwaCA9IGZ1bmN0aW9uKGNlbnR1cnlCeVllYXIsaGFsZkNlbnR1cnlCeVllYXIpe1xuICAgICAgICAgIHZhciB5ZWFyT2ZjZW50dXJpZXMgPSBbXVxuICAgICAgICAgIHZhciBudW1iZXJPZkNlbnR1cmllcyA9IFtdXG5cbiAgICAgICAgICBmb3IodmFyIGNlbnR1cnkgaW4gY2VudHVyeUJ5WWVhcikge1xuICAgICAgICAgICAgaWYoY2VudHVyeUJ5WWVhci5oYXNPd25Qcm9wZXJ0eShjZW50dXJ5KSkge1xuICAgICAgICAgICAgICB5ZWFyT2ZjZW50dXJpZXMucHVzaChjZW50dXJ5KTtcbiAgICAgICAgICAgICAgbnVtYmVyT2ZDZW50dXJpZXMucHVzaChjZW50dXJ5QnlZZWFyW2NlbnR1cnldLmxlbmd0aClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHllYXJPZmhhbGZDZW50dXJpZXMgPSBbXVxuICAgICAgICAgIHZhciBudW1iZXJPZkhhbGZDZW50dXJpZXMgPSBbXVxuXG4gICAgICAgICAgZm9yKHZhciBoYWxmQ2VudHVyeSBpbiBoYWxmQ2VudHVyeUJ5WWVhcikge1xuICAgICAgICAgICAgaWYoaGFsZkNlbnR1cnlCeVllYXIuaGFzT3duUHJvcGVydHkoaGFsZkNlbnR1cnkpKSB7XG4gICAgICAgICAgICAgIHllYXJPZmhhbGZDZW50dXJpZXMucHVzaChoYWxmQ2VudHVyeSk7XG4gICAgICAgICAgICAgIG51bWJlck9mSGFsZkNlbnR1cmllcy5wdXNoKGhhbGZDZW50dXJ5QnlZZWFyW2hhbGZDZW50dXJ5XS5sZW5ndGgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB5ZWFyV2l0aE5vSGFsZkNlbnR1cnkgPSBfLmZpbHRlcih5ZWFyT2ZjZW50dXJpZXMsIGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIHJldHVybiB5ZWFyT2ZoYWxmQ2VudHVyaWVzLmluZGV4T2YoZWwpIDwgMFxuICAgICAgICAgIH0pXG4gICAgICAgICAgdmFyIHllYXJXaXRoTm9DZW50dXJ5ID0gXy5maWx0ZXIoeWVhck9maGFsZkNlbnR1cmllcywgZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuIHllYXJPZmNlbnR1cmllcy5pbmRleE9mKGVsKSA8IDBcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgLy8gVGFraW5nIHVuaW9uIG9mIGJvdGggeWVhcnMgb2YgY2VudHVyaWVzIGFuZCBoYWxmIGNlbnR1cmllcywgQ0xFQU4gSVQgVVAgTEFURVJcbiAgICAgICAgICB2YXIgYWxsWWVhcnNGb3JEYXRhID0gXy51bmlvbih5ZWFyT2ZjZW50dXJpZXMseWVhck9maGFsZkNlbnR1cmllcykuc29ydCgpXG4gICAgICAgICAgdmFyIGluZGV4T2ZOb0hhbGZjZW50dXJ5ID0geWVhcldpdGhOb0hhbGZDZW50dXJ5Lm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICByZXR1cm4gYWxsWWVhcnNGb3JEYXRhLmluZGV4T2YocmVzKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgdmFyIGluZGV4T2ZOb0NlbnR1cnkgPSB5ZWFyV2l0aE5vQ2VudHVyeS5tYXAoZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgcmV0dXJuIGFsbFllYXJzRm9yRGF0YS5pbmRleE9mKHJlcylcbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vQWRkIGluc2VydCBtZXRob2QgYWRkIHByb3RvdHlwZSBsZXZlbCBsYXRlclxuICAgICAgICAgIGluZGV4T2ZOb0NlbnR1cnkubWFwKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyT2ZDZW50dXJpZXMuc3BsaWNlKHJlcywgMCwgMCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICBpbmRleE9mTm9IYWxmY2VudHVyeS5tYXAoZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJPZkhhbGZDZW50dXJpZXMuc3BsaWNlKHJlcywgMCwgMCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAkc2NvcGUubGluZURhdGEgPSB7XG4gICAgICAgICAgbGFiZWxzOiBhbGxZZWFyc0ZvckRhdGEsXG4gICAgICAgICAgZGF0YXNldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6ICdIYWxmIENlbnR1cmllcyBvdmVyIHRoZSB5ZWFycycsXG4gICAgICAgICAgICAgIGZpbGxDb2xvcjogWydyZ2JhKDAsMTMyLDI1NSwwLjQpJ10sXG4gICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAncmdiYSgwLDEzMiwyNTUsMC40KScsXG4gICAgICAgICAgICAgIHBvaW50Q29sb3I6ICdyZ2JhKDAsMTMyLDI1NSwwLjQpJyxcbiAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodEZpbGw6ICcjZmZmJyxcbiAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2U6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgZGF0YTogbnVtYmVyT2ZIYWxmQ2VudHVyaWVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogJ0NlbnR1cmllcycsXG4gICAgICAgICAgICAgIGZpbGxDb2xvcjogWydyZ2JhKDIyMCwyMjAsMjIwLDAuNiknXSxcbiAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDAuNiknLFxuICAgICAgICAgICAgICBwb2ludENvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwwLjYpJyxcbiAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICBwb2ludEhpZ2hsaWdodEZpbGw6ICcjZmZmJyxcbiAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2U6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgZGF0YTogbnVtYmVyT2ZDZW50dXJpZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAkc2NvcGUubGluZU9wdGlvbnMgPSAge1xuXG4gICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAvLy9Cb29sZWFuIC0gV2hldGhlciBncmlkIGxpbmVzIGFyZSBzaG93biBhY3Jvc3MgdGhlIGNoYXJ0XG4gICAgICAgICAgc2NhbGVTaG93R3JpZExpbmVzIDogdHJ1ZSxcblxuICAgICAgICAgIC8vU3RyaW5nIC0gQ29sb3VyIG9mIHRoZSBncmlkIGxpbmVzXG4gICAgICAgICAgc2NhbGVHcmlkTGluZUNvbG9yIDogXCJyZ2JhKDAsMCwwLC4wNSlcIixcblxuICAgICAgICAgIC8vTnVtYmVyIC0gV2lkdGggb2YgdGhlIGdyaWQgbGluZXNcbiAgICAgICAgICBzY2FsZUdyaWRMaW5lV2lkdGggOiAxLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB0aGUgbGluZSBpcyBjdXJ2ZWQgYmV0d2VlbiBwb2ludHNcbiAgICAgICAgICBiZXppZXJDdXJ2ZSA6IHRydWUsXG5cbiAgICAgICAgICAvL051bWJlciAtIFRlbnNpb24gb2YgdGhlIGJlemllciBjdXJ2ZSBiZXR3ZWVuIHBvaW50c1xuICAgICAgICAgIGJlemllckN1cnZlVGVuc2lvbiA6IDAuNCxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgdG8gc2hvdyBhIGRvdCBmb3IgZWFjaCBwb2ludFxuICAgICAgICAgIHBvaW50RG90IDogdHJ1ZSxcblxuICAgICAgICAgIC8vTnVtYmVyIC0gUmFkaXVzIG9mIGVhY2ggcG9pbnQgZG90IGluIHBpeGVsc1xuICAgICAgICAgIHBvaW50RG90UmFkaXVzIDogNCxcblxuICAgICAgICAgIC8vTnVtYmVyIC0gUGl4ZWwgd2lkdGggb2YgcG9pbnQgZG90IHN0cm9rZVxuICAgICAgICAgIHBvaW50RG90U3Ryb2tlV2lkdGggOiAxLFxuXG4gICAgICAgICAgLy9OdW1iZXIgLSBhbW91bnQgZXh0cmEgdG8gYWRkIHRvIHRoZSByYWRpdXMgdG8gY2F0ZXIgZm9yIGhpdCBkZXRlY3Rpb24gb3V0c2lkZSB0aGUgZHJhd24gcG9pbnRcbiAgICAgICAgICBwb2ludEhpdERldGVjdGlvblJhZGl1cyA6IDIwLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB0byBzaG93IGEgc3Ryb2tlIGZvciBkYXRhc2V0c1xuICAgICAgICAgIGRhdGFzZXRTdHJva2UgOiB0cnVlLFxuXG4gICAgICAgICAgLy9OdW1iZXIgLSBQaXhlbCB3aWR0aCBvZiBkYXRhc2V0IHN0cm9rZVxuICAgICAgICAgIGRhdGFzZXRTdHJva2VXaWR0aCA6IDIsXG5cbiAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHRvIGZpbGwgdGhlIGRhdGFzZXQgd2l0aCBhIGNvbG91clxuICAgICAgICAgIGRhdGFzZXRGaWxsIDogdHJ1ZSxcblxuICAgICAgICAgIC8vIEZ1bmN0aW9uIC0gb24gYW5pbWF0aW9uIHByb2dyZXNzXG4gICAgICAgICAgb25BbmltYXRpb25Qcm9ncmVzczogZnVuY3Rpb24oKXt9LFxuXG4gICAgICAgICAgLy8gRnVuY3Rpb24gLSBvbiBhbmltYXRpb24gY29tcGxldGVcbiAgICAgICAgICBvbkFuaW1hdGlvbkNvbXBsZXRlOiBmdW5jdGlvbigpe30sXG5cbiAgICAgICAgICAvL1N0cmluZyAtIEEgbGVnZW5kIHRlbXBsYXRlXG4gICAgICAgICAgbGVnZW5kVGVtcGxhdGUgOiAnPHVsIGNsYXNzPVwidGMtY2hhcnQtanMtbGVnZW5kXCI+PCUgZm9yICh2YXIgaT0wOyBpPGRhdGFzZXRzLmxlbmd0aDsgaSsrKXslPjxsaT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6PCU9ZGF0YXNldHNbaV0uc3Ryb2tlQ29sb3IlPlwiPjwvc3Bhbj48JWlmKGRhdGFzZXRzW2ldLmxhYmVsKXslPjwlPWRhdGFzZXRzW2ldLmxhYmVsJT48JX0lPjwvbGk+PCV9JT48L3VsPidcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5wcmVwYXJlRG91Z2hudXRDaGFydCA9IGZ1bmN0aW9uKHdvbiwgbG9zdCwgdGllZCwgbm9yZXN1bHQpe1xuICAgICAgICAkc2NvcGUucmVzb3VyY2VzID0gW3tcbiAgICAgICAgICAgICAgIHZhbHVlOiB3b24sXG4gICAgICAgICAgICAgICBjb2xvcjogJyNGRkZGMDAnLFxuICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiAnI2U1ZTUwMCcsXG4gICAgICAgICAgICAgICBsYWJlbDogJ0luZGlhIFdvbidcbiAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgdmFsdWU6IGxvc3QsXG4gICAgICAgICAgICAgICBjb2xvcjogJyM0NkJGQkQnLFxuICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiAnIzVBRDNEMScsXG4gICAgICAgICAgICAgICBsYWJlbDogJ0luZGlhIExvc3QnXG4gICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgIHZhbHVlOiB0aWVkLFxuICAgICAgICAgICAgICAgY29sb3I6ICcjRjc0NjRBJyxcbiAgICAgICAgICAgICAgIGhpZ2hsaWdodDogJyNGRjVBNUUnLFxuICAgICAgICAgICAgICAgbGFiZWw6ICdNYXRjaCBUaWVkJ1xuICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICB2YWx1ZTogbm9yZXN1bHQsXG4gICAgICAgICAgICAgICBjb2xvcjogJyNGNzQ2NEEnLFxuICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiAnI0VGNUE1RScsXG4gICAgICAgICAgICAgICBsYWJlbDogJ05vIFJlc3VsdCdcbiAgICAgICAgICAgfVxuICAgICAgICAgXTtcblxuICAgICAgICAgICAvLyBDaGFydC5qcyBPcHRpb25zXG4gICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xuXG4gICAgICAgICAgICAgICAvLyBTZXRzIHRoZSBjaGFydCB0byBiZSByZXNwb25zaXZlXG4gICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIHNob3VsZCBzaG93IGEgc3Ryb2tlIG9uIGVhY2ggc2VnbWVudFxuICAgICAgICAgICAgICAgc2VnbWVudFNob3dTdHJva2U6IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gVGhlIGNvbG91ciBvZiBlYWNoIHNlZ21lbnQgc3Ryb2tlXG4gICAgICAgICAgICAgICBzZWdtZW50U3Ryb2tlQ29sb3I6ICcjZmZmJyxcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBUaGUgd2lkdGggb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgICAgICAgc2VnbWVudFN0cm9rZVdpZHRoOiAyLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFRoZSBwZXJjZW50YWdlIG9mIHRoZSBjaGFydCB0aGF0IHdlIGN1dCBvdXQgb2YgdGhlIG1pZGRsZVxuICAgICAgICAgICAgICAgcGVyY2VudGFnZUlubmVyQ3V0b3V0OiA1MCwgLy8gVGhpcyBpcyAwIGZvciBQaWUgY2hhcnRzXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gQW1vdW50IG9mIGFuaW1hdGlvbiBzdGVwc1xuICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RlcHM6IDEwMCxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBBbmltYXRpb24gZWFzaW5nIGVmZmVjdFxuICAgICAgICAgICAgICAgYW5pbWF0aW9uRWFzaW5nOiAnZWFzZU91dEJvdW5jZScsXG5cbiAgICAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2UgYW5pbWF0ZSB0aGUgcm90YXRpb24gb2YgdGhlIERvdWdobnV0XG4gICAgICAgICAgICAgICBhbmltYXRlUm90YXRlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgc2NhbGluZyB0aGUgRG91Z2hudXQgZnJvbSB0aGUgY2VudHJlXG4gICAgICAgICAgICAgICBhbmltYXRlU2NhbGU6IGZhbHNlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIEEgbGVnZW5kIHRlbXBsYXRlXG4gICAgICAgICAgICAgICBsZWdlbmRUZW1wbGF0ZTogJzx1bCBjbGFzcz1cInRjLWNoYXJ0LWpzLWxlZ2VuZFwiPjwlIGZvciAodmFyIGk9MDsgaTxzZWdtZW50cy5sZW5ndGg7IGkrKyl7JT48bGk+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOjwlPXNlZ21lbnRzW2ldLmZpbGxDb2xvciU+XCI+PC9zcGFuPjwlaWYoc2VnbWVudHNbaV0ubGFiZWwpeyU+PCU9c2VnbWVudHNbaV0ubGFiZWwlPjwlfSU+PC9saT48JX0lPjwvdWw+J1xuXG4gICAgICAgICAgIH07XG5cbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnByZXBhcmVDb252ZXJzaW9uUmF0ZVBpZUNoYXJ0ID0gZnVuY3Rpb24oZmlmdHksaHVuZHJlZCl7XG4gICAgICAgICAgICAkc2NvcGUuY29udmVyc2lvbkRhdGEgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IGZpZnR5LFxuICAgICAgICAgICAgY29sb3I6JyNGNzQ2NEEnLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiAnI0ZGNUE1RScsXG4gICAgICAgICAgICBsYWJlbDogJ0hhbGYgQ2VudHVyaWVzJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IGh1bmRyZWQsXG4gICAgICAgICAgICBjb2xvcjogJyNGREI0NUMnLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiAnI0ZGQzg3MCcsXG4gICAgICAgICAgICBsYWJlbDogJ0NlbnR1cmllcydcbiAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAkc2NvcGUuY29udmVyc2lvbk9wdGlvbnMgPSAge1xuXG4gICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIHNob3VsZCBzaG93IGEgc3Ryb2tlIG9uIGVhY2ggc2VnbWVudFxuICAgICAgICAgIHNlZ21lbnRTaG93U3Ryb2tlIDogdHJ1ZSxcblxuICAgICAgICAgIC8vU3RyaW5nIC0gVGhlIGNvbG91ciBvZiBlYWNoIHNlZ21lbnQgc3Ryb2tlXG4gICAgICAgICAgc2VnbWVudFN0cm9rZUNvbG9yIDogJyNmZmYnLFxuXG4gICAgICAgICAgLy9OdW1iZXIgLSBUaGUgd2lkdGggb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgIHNlZ21lbnRTdHJva2VXaWR0aCA6IDIsXG5cbiAgICAgICAgICAvL051bWJlciAtIFRoZSBwZXJjZW50YWdlIG9mIHRoZSBjaGFydCB0aGF0IHdlIGN1dCBvdXQgb2YgdGhlIG1pZGRsZVxuICAgICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dCA6IDAsIC8vIFRoaXMgaXMgMCBmb3IgUGllIGNoYXJ0c1xuXG4gICAgICAgICAgLy9OdW1iZXIgLSBBbW91bnQgb2YgYW5pbWF0aW9uIHN0ZXBzXG4gICAgICAgICAgYW5pbWF0aW9uU3RlcHMgOiAxMDAsXG5cbiAgICAgICAgICAvL1N0cmluZyAtIEFuaW1hdGlvbiBlYXNpbmcgZWZmZWN0XG4gICAgICAgICAgYW5pbWF0aW9uRWFzaW5nIDogJ2Vhc2VPdXRCb3VuY2UnLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHRoZSByb3RhdGlvbiBvZiB0aGUgRG91Z2hudXRcbiAgICAgICAgICBhbmltYXRlUm90YXRlIDogdHJ1ZSxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2UgYW5pbWF0ZSBzY2FsaW5nIHRoZSBEb3VnaG51dCBmcm9tIHRoZSBjZW50cmVcbiAgICAgICAgICBhbmltYXRlU2NhbGUgOiBmYWxzZSxcblxuICAgICAgICAgIC8vU3RyaW5nIC0gQSBsZWdlbmQgdGVtcGxhdGVcbiAgICAgICAgICBsZWdlbmRUZW1wbGF0ZSA6ICc8dWwgY2xhc3M9XCJ0Yy1jaGFydC1qcy1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1zZWdtZW50c1tpXS5maWxsQ29sb3IlPlwiPjwvc3Bhbj48JWlmKHNlZ21lbnRzW2ldLmxhYmVsKXslPjwlPXNlZ21lbnRzW2ldLmxhYmVsJT48JX0lPjwvbGk+PCV9JT48L3VsPidcblxuICAgICAgICB9O1xuICAgICAgfVxuXG5cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ3J1bnNTdGF0c0N0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ydW5zU3RhdHM7XG4gICAgICAgICAgIH0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgIGlmKCFuKXJldHVyblxuICAgICAgICAgICAgICAgJHNjb3BlLmFuYWx5emVJbm5pbmdzKCRzY29wZS5ydW5zU3RhdHMpXG4gICAgICAgICAgIH0pO1xuXG5cbiAgICAgICRzY29wZS5hbmFseXplSW5uaW5ncyA9IGZ1bmN0aW9uKHJ1bnNTdGF0cyl7XG4gICAgICAgIC8vUnVucyBvdmVyIHRoZSB5ZWFyc1xuICAgICAgICB2YXIgcnVuc0J5WWVhciA9IFtdO1xuICAgICAgICB2YXIgcnVuc0FnYWluc3RUZWFtcyA9IFtdO1xuICAgICAgICB2YXIgZmlyc3RJbm5pbmdzID0gMDtcbiAgICAgICAgdmFyIHNlY29uZElubmluZ3MgPSAwO1xuICAgICAgICB2YXIgcnVuc0ZpcnN0SW5uaW5ncyA9IDA7XG4gICAgICAgIHZhciBydW5zU2Vjb25kSW5uaW5ncyA9IDA7XG4gICAgICAgIHJ1bnNTdGF0cy5hbGxJbm5pbmdzLm1hcChmdW5jdGlvbihyZXMpe1xuICAgICAgICAgIC8vY2FsY3VsYXRlIG51bWJlciBvZiBmaXJzdCBpbm5pbmdzIGFuZCBzZWNvbmQgaW5uaW5ncyBwbGF5ZWQgYW5kIHJ1biBzY29yZWQgaW4gdGhlbVxuICAgICAgICAgIGlmKHJlcy5pbm5pbmdzID09IFwiMXN0XCIpe1xuICAgICAgICAgICAgZmlyc3RJbm5pbmdzKys7XG4gICAgICAgICAgICBydW5zRmlyc3RJbm5pbmdzICs9IHJlcy5ydW5zO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc2Vjb25kSW5uaW5ncysrO1xuICAgICAgICAgICAgcnVuc1NlY29uZElubmluZ3MgKz0gcmVzLnJ1bnM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9nZXQgcnVucyBvbiB5ZWFybHkgYmFzaXNcbiAgICAgICAgICB2YXIgeWVhciA9IHJlcy55ZWFyO1xuICAgICAgICAgIHZhciB0ZWFtID0gcmVzLmFnYWluc3Q7XG4gICAgICAgICAgaWYodHlwZW9mKHJ1bnNCeVllYXJbeWVhcl0pID09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgICBydW5zQnlZZWFyW3llYXJdID0gW11cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYodHlwZW9mKHJ1bnNCeVllYXJbeWVhcl0pID09IFwibnVtYmVyXCIpe1xuICAgICAgICAgICAgICBydW5zQnlZZWFyW3llYXJdICs9IHBhcnNlSW50KHJlcy5ydW5zKVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcnVuc0J5WWVhclt5ZWFyXSA9IHBhcnNlSW50KHJlcy5ydW5zKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vZ2V0IHJ1bnMgYWdhaW5zdCB0ZWFtc1xuICAgICAgICAgIGlmKHR5cGVvZihydW5zQWdhaW5zdFRlYW1zW3RlYW1dKSA9PSBcInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgcnVuc0FnYWluc3RUZWFtc1t0ZWFtXSA9IFtdXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHR5cGVvZihydW5zQWdhaW5zdFRlYW1zW3RlYW1dKSA9PSBcIm51bWJlclwiKXtcbiAgICAgICAgICAgICAgcmV0dXJuIHJ1bnNBZ2FpbnN0VGVhbXNbdGVhbV0gKz0gcGFyc2VJbnQocmVzLnJ1bnMpXG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gcnVuc0FnYWluc3RUZWFtc1t0ZWFtXSA9IHBhcnNlSW50KHJlcy5ydW5zKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgJHNjb3BlLnByZXBhcmVSdW5zQnlZZWFyR3JhcGgocnVuc0J5WWVhcilcbiAgICAgICAgJHNjb3BlLnByZXBhcmVSdW5zQnlUZWFtR3JhcGgocnVuc0FnYWluc3RUZWFtcylcbiAgICAgICAgJHNjb3BlLnByZXBhcmVSdW5zQnlJbm5pbmdzR3JhcGgocnVuc0ZpcnN0SW5uaW5ncywgcnVuc1NlY29uZElubmluZ3MpXG4gICAgICAgICRzY29wZS5wcmVwYXJlQXZlcmFnZUJ5SW5uaW5nc0dyYXBoKHJ1bnNGaXJzdElubmluZ3MsZmlyc3RJbm5pbmdzLHJ1bnNTdGF0cy5maXJzdElubmluZ3NOb3RvdXRzLHJ1bnNTZWNvbmRJbm5pbmdzLCBzZWNvbmRJbm5pbmdzLHJ1bnNTdGF0cy5zZWNvbmRJbm5pbmdzTm90b3V0cylcblxuICAgICAgfVxuXG5cbiAgICAgICRzY29wZS5wcmVwYXJlUnVuc0J5WWVhckdyYXBoID0gZnVuY3Rpb24gKHJ1bnNCeVllYXIpe1xuICAgICAgICB2YXIgeWVhcnMgPSBbXVxuICAgICAgICB2YXIgcnVucyA9IFtdXG4gICAgICAgIGZvcih2YXIgeWVhciBpbiBydW5zQnlZZWFyKSB7XG4gICAgICAgICAgaWYocnVuc0J5WWVhci5oYXNPd25Qcm9wZXJ0eSh5ZWFyKSkge1xuICAgICAgICAgICAgeWVhcnMucHVzaCh5ZWFyKTtcbiAgICAgICAgICAgIHJ1bnMucHVzaChydW5zQnlZZWFyW3llYXJdKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sb3JzID0gW107XG4gICAgICAgIHJ1bnMubWFwKGZ1bmN0aW9uKHJlcywga2V5KXtcbiAgICAgICAgICBpZihyZXMgPj0gMTAwMCl7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JzW2tleV0gPSBcIiNGRkZGMDBcIlxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1trZXldID0gXCIjMDA4NEZGXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgJHNjb3BlLnllYXJCYXJkYXRhID0ge1xuICAgICAgICAgICAgICAgbGFiZWxzOiB5ZWFycyxcbiAgICAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUnVucyBPdmVyIHRoZSB5ZWFycycsXG4gICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBjb2xvcnMsXG4gICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludENvbG9yOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0RmlsbDogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgIHBvaW50SGlnaGxpZ2h0U3Ryb2tlOiAncmdiYSgyMjAsMjIwLDIyMCwxKScsXG4gICAgICAgICAgICAgICAgICAgZGF0YTogcnVuc1xuICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgfTtcblxuICAgICAgICAgICAvLyBDaGFydC5qcyBPcHRpb25zXG4gICAgICAgICAgICRzY29wZS55ZWFyQmFyb3B0aW9ucyA9IHtcblxuICAgICAgICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB0aGUgc2NhbGUgc2hvdWxkIHN0YXJ0IGF0IHplcm8sIG9yIGFuIG9yZGVyIG9mIG1hZ25pdHVkZSBkb3duIGZyb20gdGhlIGxvd2VzdCB2YWx1ZVxuICAgICAgICAgICAgICAgc2NhbGVCZWdpbkF0WmVybzogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciBncmlkIGxpbmVzIGFyZSBzaG93biBhY3Jvc3MgdGhlIGNoYXJ0XG4gICAgICAgICAgICAgICBzY2FsZVNob3dHcmlkTGluZXM6IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gQ29sb3VyIG9mIHRoZSBncmlkIGxpbmVzXG4gICAgICAgICAgICAgICBzY2FsZUdyaWRMaW5lQ29sb3I6IFwicmdiYSgwLDAsMCwuMDUpXCIsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gV2lkdGggb2YgdGhlIGdyaWQgbGluZXNcbiAgICAgICAgICAgICAgIHNjYWxlR3JpZExpbmVXaWR0aDogMSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gSWYgdGhlcmUgaXMgYSBzdHJva2Ugb24gZWFjaCBiYXJcbiAgICAgICAgICAgICAgIGJhclNob3dTdHJva2U6IHRydWUsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gUGl4ZWwgd2lkdGggb2YgdGhlIGJhciBzdHJva2VcbiAgICAgICAgICAgICAgIGJhclN0cm9rZVdpZHRoOiAyLFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFNwYWNpbmcgYmV0d2VlbiBlYWNoIG9mIHRoZSBYIHZhbHVlIHNldHNcbiAgICAgICAgICAgICAgIGJhclZhbHVlU3BhY2luZzogNSxcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBTcGFjaW5nIGJldHdlZW4gZGF0YSBzZXRzIHdpdGhpbiBYIHZhbHVlc1xuICAgICAgICAgICAgICAgYmFyRGF0YXNldFNwYWNpbmc6IDEsXG5cbiAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gQSBsZWdlbmQgdGVtcGxhdGVcbiAgICAgICAgICAgICAgIGxlZ2VuZFRlbXBsYXRlOiAnPHVsIGNsYXNzPVwidGMtY2hhcnQtanMtbGVnZW5kXCI+PCUgZm9yICh2YXIgaT0wOyBpPGRhdGFzZXRzLmxlbmd0aDsgaSsrKXslPjxsaT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6PCU9ZGF0YXNldHNbaV0uZmlsbENvbG9yJT5cIj48L3NwYW4+PCVpZihkYXRhc2V0c1tpXS5sYWJlbCl7JT48JT1kYXRhc2V0c1tpXS5sYWJlbCU+PCV9JT48L2xpPjwlfSU+PC91bD4nXG4gICAgICAgICAgIH07XG4gICAgICB9XG4gICAgICAkc2NvcGUucHJlcGFyZVJ1bnNCeVRlYW1HcmFwaCA9IGZ1bmN0aW9uIChydW5zQWdhaW5zdFRlYW1zKXtcbiAgICAgICAgdmFyIHRlYW1zID0gW11cbiAgICAgICAgdmFyIHJ1bnMgPSBbXVxuICAgICAgICBmb3IodmFyIHRlYW0gaW4gcnVuc0FnYWluc3RUZWFtcykge1xuICAgICAgICAgIGlmKHJ1bnNBZ2FpbnN0VGVhbXMuaGFzT3duUHJvcGVydHkodGVhbSkpIHtcbiAgICAgICAgICAgIHRlYW1zLnB1c2godGVhbSk7XG4gICAgICAgICAgICBydW5zLnB1c2gocnVuc0FnYWluc3RUZWFtc1t0ZWFtXSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLnRlYW1CYXJkYXRhID0ge1xuICAgICAgICAgICAgICAgbGFiZWxzOiB0ZWFtcyxcbiAgICAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUnVucyBPdmVyIHRoZSB5ZWFycycsXG4gICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBbJyMwMDg0RkYnXSxcbiAgICAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogJ3JnYmEoMjIwLDIyMCwyMjAsMSknLFxuICAgICAgICAgICAgICAgICAgIHBvaW50Q29sb3I6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBwb2ludFN0cm9rZUNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRGaWxsOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgcG9pbnRIaWdobGlnaHRTdHJva2U6ICdyZ2JhKDIyMCwyMjAsMjIwLDEpJyxcbiAgICAgICAgICAgICAgICAgICBkYXRhOiBydW5zXG4gICAgICAgICAgICAgICB9XVxuICAgICAgICAgICB9O1xuXG4gICAgICAgICAgIC8vIENoYXJ0LmpzIE9wdGlvbnNcbiAgICAgICAgICAgJHNjb3BlLnRlYW1CYXJvcHRpb25zID0ge1xuXG4gICAgICAgICAgICAgICAvLyBTZXRzIHRoZSBjaGFydCB0byBiZSByZXNwb25zaXZlXG4gICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHRoZSBzY2FsZSBzaG91bGQgc3RhcnQgYXQgemVybywgb3IgYW4gb3JkZXIgb2YgbWFnbml0dWRlIGRvd24gZnJvbSB0aGUgbG93ZXN0IHZhbHVlXG4gICAgICAgICAgICAgICBzY2FsZUJlZ2luQXRaZXJvOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIGdyaWQgbGluZXMgYXJlIHNob3duIGFjcm9zcyB0aGUgY2hhcnRcbiAgICAgICAgICAgICAgIHNjYWxlU2hvd0dyaWRMaW5lczogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBDb2xvdXIgb2YgdGhlIGdyaWQgbGluZXNcbiAgICAgICAgICAgICAgIHNjYWxlR3JpZExpbmVDb2xvcjogXCJyZ2JhKDAsMCwwLC4wNSlcIixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBXaWR0aCBvZiB0aGUgZ3JpZCBsaW5lc1xuICAgICAgICAgICAgICAgc2NhbGVHcmlkTGluZVdpZHRoOiAxLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBJZiB0aGVyZSBpcyBhIHN0cm9rZSBvbiBlYWNoIGJhclxuICAgICAgICAgICAgICAgYmFyU2hvd1N0cm9rZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBQaXhlbCB3aWR0aCBvZiB0aGUgYmFyIHN0cm9rZVxuICAgICAgICAgICAgICAgYmFyU3Ryb2tlV2lkdGg6IDIsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gU3BhY2luZyBiZXR3ZWVuIGVhY2ggb2YgdGhlIFggdmFsdWUgc2V0c1xuICAgICAgICAgICAgICAgYmFyVmFsdWVTcGFjaW5nOiA1LFxuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIFNwYWNpbmcgYmV0d2VlbiBkYXRhIHNldHMgd2l0aGluIFggdmFsdWVzXG4gICAgICAgICAgICAgICBiYXJEYXRhc2V0U3BhY2luZzogMSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBBIGxlZ2VuZCB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgbGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCJ0Yy1jaGFydC1qcy1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8ZGF0YXNldHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1kYXRhc2V0c1tpXS5maWxsQ29sb3IlPlwiPjwvc3Bhbj48JWlmKGRhdGFzZXRzW2ldLmxhYmVsKXslPjwlPWRhdGFzZXRzW2ldLmxhYmVsJT48JX0lPjwvbGk+PCV9JT48L3VsPidcbiAgICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5wcmVwYXJlUnVuc0J5SW5uaW5nc0dyYXBoID0gZnVuY3Rpb24oZmlyc3RJbm5pbmdzLCBzZWNvbmRJbm5pbmdzKXtcbiAgICAgICAgJHNjb3BlLmlubmluaW5nc1J1bnNyZXNvdXJjZXMgPSBbe1xuICAgICAgICAgICAgICAgdmFsdWU6IGZpcnN0SW5uaW5ncyxcbiAgICAgICAgICAgICAgIGNvbG9yOiAnI0ZGRkYwMCcsXG4gICAgICAgICAgICAgICBoaWdobGlnaHQ6ICcjZTVlNTAwJyxcbiAgICAgICAgICAgICAgIGxhYmVsOiAnRmlyc3QgSW5uaW5ncydcbiAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgdmFsdWU6IHNlY29uZElubmluZ3MsXG4gICAgICAgICAgICAgICBjb2xvcjogJyM0NkJGQkQnLFxuICAgICAgICAgICAgICAgaGlnaGxpZ2h0OiAnIzVBRDNEMScsXG4gICAgICAgICAgICAgICBsYWJlbDogJ1NlY29uZCBJbm5pbmdzJ1xuICAgICAgICAgICB9XTtcblxuICAgICAgICAgICAvLyBDaGFydC5qcyBPcHRpb25zXG4gICAgICAgICAgICRzY29wZS5pbm5pbmluZ3NSdW5zb3B0aW9ucyA9IHtcblxuICAgICAgICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBzaG91bGQgc2hvdyBhIHN0cm9rZSBvbiBlYWNoIHNlZ21lbnRcbiAgICAgICAgICAgICAgIHNlZ21lbnRTaG93U3Ryb2tlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAvL1N0cmluZyAtIFRoZSBjb2xvdXIgb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgICAgICAgc2VnbWVudFN0cm9rZUNvbG9yOiAnI2ZmZicsXG5cbiAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHdpZHRoIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcbiAgICAgICAgICAgICAgIHNlZ21lbnRTdHJva2VXaWR0aDogMixcblxuICAgICAgICAgICAgICAgLy9OdW1iZXIgLSBUaGUgcGVyY2VudGFnZSBvZiB0aGUgY2hhcnQgdGhhdCB3ZSBjdXQgb3V0IG9mIHRoZSBtaWRkbGVcbiAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dDogNTAsIC8vIFRoaXMgaXMgMCBmb3IgUGllIGNoYXJ0c1xuXG4gICAgICAgICAgICAgICAvL051bWJlciAtIEFtb3VudCBvZiBhbmltYXRpb24gc3RlcHNcbiAgICAgICAgICAgICAgIGFuaW1hdGlvblN0ZXBzOiAxMDAsXG5cbiAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gQW5pbWF0aW9uIGVhc2luZyBlZmZlY3RcbiAgICAgICAgICAgICAgIGFuaW1hdGlvbkVhc2luZzogJ2Vhc2VPdXRCb3VuY2UnLFxuXG4gICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgdGhlIHJvdGF0aW9uIG9mIHRoZSBEb3VnaG51dFxuICAgICAgICAgICAgICAgYW5pbWF0ZVJvdGF0ZTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHNjYWxpbmcgdGhlIERvdWdobnV0IGZyb20gdGhlIGNlbnRyZVxuICAgICAgICAgICAgICAgYW5pbWF0ZVNjYWxlOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgLy9TdHJpbmcgLSBBIGxlZ2VuZCB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgbGVnZW5kVGVtcGxhdGU6ICc8dWwgY2xhc3M9XCJ0Yy1jaGFydC1qcy1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1zZWdtZW50c1tpXS5maWxsQ29sb3IlPlwiPjwvc3Bhbj48JWlmKHNlZ21lbnRzW2ldLmxhYmVsKXslPjwlPXNlZ21lbnRzW2ldLmxhYmVsJT48JX0lPjwvbGk+PCV9JT48L3VsPidcblxuICAgICAgICAgICB9O1xuXG4gICAgICB9XG5cbiAgICAgICRzY29wZS5wcmVwYXJlQXZlcmFnZUJ5SW5uaW5nc0dyYXBoID0gZnVuY3Rpb24ocnVuc0ZpcnN0SW5uaW5ncyxmaXJzdElubmluZ3MsZmlyc3RJbm5pbmdzTm90b3V0cyxydW5zU2Vjb25kSW5uaW5ncywgc2Vjb25kSW5uaW5ncyxzZWNvbmRJbm5pbmdzTm90b3V0cyl7XG4gICAgICAgIHZhciBmaXJzdElubmluZ3NBdmVyYWdlID0gcnVuc0ZpcnN0SW5uaW5ncyAvIChmaXJzdElubmluZ3MgLSBmaXJzdElubmluZ3NOb3RvdXRzKTtcbiAgICAgICAgdmFyIHNlY29uZElubmluZ3NBdmVyYWdlID0gcnVuc1NlY29uZElubmluZ3MgLyAoc2Vjb25kSW5uaW5ncyAtIHNlY29uZElubmluZ3NOb3RvdXRzKTtcblxuICAgICAgICAkc2NvcGUuYXZlcmFnZURhdGEgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IGZpcnN0SW5uaW5nc0F2ZXJhZ2UudG9GaXhlZCgyKSxcbiAgICAgICAgICAgIGNvbG9yOicjRjc0NjRBJyxcbiAgICAgICAgICAgIGhpZ2hsaWdodDogJyNGRjVBNUUnLFxuICAgICAgICAgICAgbGFiZWw6ICdBdmVyYWdlIGluIEZpcnN0IElubmluZ3MnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogc2Vjb25kSW5uaW5nc0F2ZXJhZ2UudG9GaXhlZCgyKSxcbiAgICAgICAgICAgIGNvbG9yOiAnI0ZEQjQ1QycsXG4gICAgICAgICAgICBoaWdobGlnaHQ6ICcjRkZDODcwJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQXZlcmFnZSBpbiBTZWNvbmQgSW5uaW5ncydcbiAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gQ2hhcnQuanMgT3B0aW9uc1xuICAgICAgICAkc2NvcGUuYXZlcmFnZU9wdGlvbnMgPSAge1xuXG4gICAgICAgICAgLy8gU2V0cyB0aGUgY2hhcnQgdG8gYmUgcmVzcG9uc2l2ZVxuICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIHNob3VsZCBzaG93IGEgc3Ryb2tlIG9uIGVhY2ggc2VnbWVudFxuICAgICAgICAgIHNlZ21lbnRTaG93U3Ryb2tlIDogdHJ1ZSxcblxuICAgICAgICAgIC8vU3RyaW5nIC0gVGhlIGNvbG91ciBvZiBlYWNoIHNlZ21lbnQgc3Ryb2tlXG4gICAgICAgICAgc2VnbWVudFN0cm9rZUNvbG9yIDogJyNmZmYnLFxuXG4gICAgICAgICAgLy9OdW1iZXIgLSBUaGUgd2lkdGggb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxuICAgICAgICAgIHNlZ21lbnRTdHJva2VXaWR0aCA6IDIsXG5cbiAgICAgICAgICAvL051bWJlciAtIFRoZSBwZXJjZW50YWdlIG9mIHRoZSBjaGFydCB0aGF0IHdlIGN1dCBvdXQgb2YgdGhlIG1pZGRsZVxuICAgICAgICAgIHBlcmNlbnRhZ2VJbm5lckN1dG91dCA6IDAsIC8vIFRoaXMgaXMgMCBmb3IgUGllIGNoYXJ0c1xuXG4gICAgICAgICAgLy9OdW1iZXIgLSBBbW91bnQgb2YgYW5pbWF0aW9uIHN0ZXBzXG4gICAgICAgICAgYW5pbWF0aW9uU3RlcHMgOiAxMDAsXG5cbiAgICAgICAgICAvL1N0cmluZyAtIEFuaW1hdGlvbiBlYXNpbmcgZWZmZWN0XG4gICAgICAgICAgYW5pbWF0aW9uRWFzaW5nIDogJ2Vhc2VPdXRCb3VuY2UnLFxuXG4gICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHRoZSByb3RhdGlvbiBvZiB0aGUgRG91Z2hudXRcbiAgICAgICAgICBhbmltYXRlUm90YXRlIDogdHJ1ZSxcblxuICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2UgYW5pbWF0ZSBzY2FsaW5nIHRoZSBEb3VnaG51dCBmcm9tIHRoZSBjZW50cmVcbiAgICAgICAgICBhbmltYXRlU2NhbGUgOiBmYWxzZSxcblxuICAgICAgICAgIC8vU3RyaW5nIC0gQSBsZWdlbmQgdGVtcGxhdGVcbiAgICAgICAgICBsZWdlbmRUZW1wbGF0ZSA6ICc8dWwgY2xhc3M9XCJ0Yy1jaGFydC1qcy1sZWdlbmRcIj48JSBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjo8JT1zZWdtZW50c1tpXS5maWxsQ29sb3IlPlwiPjwvc3Bhbj48JWlmKHNlZ21lbnRzW2ldLmxhYmVsKXslPjwlPXNlZ21lbnRzW2ldLmxhYmVsJT48JX0lPjwvbGk+PCV9JT48L3VsPidcblxuICAgICAgICB9O1xuICAgICAgfVxuXG5cblxuXG59KVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
